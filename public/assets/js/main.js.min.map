{"version":3,"sources":["cookie.js","spinner.js","modal.js","post.js","poll.js","quote.js","other.js"],"names":["$","window","MyBB","Cookie","cookiePrefix","cookiePath","cookieDomain","init","Settings","this","get","name","cookie","set","value","expires","expire","Date","setTime","getTime","options","path","domain","unset","removeCookie","jQuery","Spinner","inProgresses","add","show","remove","hide","Modals","on","toggleModal","bind","prototype","event","preventDefault","target","nodeName","modalOpener","modalSelector","data","modalFind","modal","class","modalContent","parent","substring","html","appendTo","zIndex","stepper","hideShowPassword","undefined","response","responseObject","Posts","togglePost","hasClass","addClass","removeClass","Polls","optionElement","clone","attr","removeOption","click","proxy","addOption","change","toggleMaxOptionsInput","$addPollButton","toggleAddPoll","length","val","slideDown","timePicker","datetimepicker","format","lang","minDate","slideUp","num_options","$option","find","last","after","$parent","$me","$myParent","parents","setTimeout","fixOptionsName","Modernizr","touch","powerTip","placement","smartPlacement","i","each","me","is","isOrContains","node","container","parentNode","elementContainsSelection","el","sel","getSelection","rangeCount","getRangeAt","commonAncestorContainer","document","selection","type","createRange","parentElement","Quotes","multiQuoteButton","showQuoteBar","addQuotes","viewQuotes","removeQuotes","quickQuote","quickAddQuote","quoteAdd","quoteRemove","checkQuickQuote","quoteButtons","$post","$content","addQuote","text","hideQuickQuote","quotes","getQuotes","push","id","JSON","stringify","pid","trim","toString","showQuickQuote","range","rect","getBoundingClientRect","$elm","css","top","scrollY","outerHeight","left","scrollX","outerWidth","width","myQuotes","parse","key","quote","postId","parseInt","removed","$quoteBar","$textarea","ajax","url","posts","_token","method","done","json","error","Editor","getData","substr","message","focus","setData","close","always","postid","content","max-height","height","split","$quoteButton","next","dropit","submenuEl","triggerEl","removeAttr","closest","toggleClass","checked","checked_boxes","prop"],"mappings":"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","file":"main.js","sourcesContent":["(function ($, window) {\r\n\twindow.MyBB = window.MyBB || {};\r\n\r\n\twindow.MyBB.Cookie = {\r\n\t\tcookiePrefix: '',\r\n\t\tcookiePath: '/',\r\n\t\tcookieDomain: '',\r\n\r\n\t\tinit: function () {\r\n\t\t\tMyBB.Settings = MyBB.Settings || {};\r\n\t\t\tif (typeof MyBB.Settings.cookiePrefix != 'undefined') {\r\n\t\t\t\tthis.cookiePrefix = MyBB.Settings.cookiePrefix;\r\n\t\t\t}\r\n\t\t\tif (typeof MyBB.Settings.cookiePath != 'undefined') {\r\n\t\t\t\tthis.cookiePath = MyBB.Settings.cookiePath;\r\n\t\t\t}\r\n\t\t\tif (typeof MyBB.Settings.cookieDomain != 'undefined') {\r\n\t\t\t\tthis.cookieDomain = MyBB.Settings.cookieDomain;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tget: function (name) {\r\n\t\t\tthis.init();\r\n\r\n\t\t\tname = this.cookiePrefix + name;\r\n\t\t\treturn $.cookie(name);\r\n\t\t},\r\n\r\n\t\tset: function (name, value, expires) {\r\n\t\t\tthis.init();\r\n\r\n\t\t\tname = this.cookiePrefix + name;\r\n\t\t\tif (!expires) {\r\n\t\t\t\texpires = 157680000; // 5*365*24*60*60 => 5 years\r\n\t\t\t}\r\n\r\n\t\t\texpire = new Date();\r\n\t\t\texpire.setTime(expire.getTime() + (expires * 1000));\r\n\r\n\t\t\toptions = {\r\n\t\t\t\texpires: expire,\r\n\t\t\t\tpath: this.cookiePath,\r\n\t\t\t\tdomain: this.cookieDomain\r\n\t\t\t};\r\n\r\n\t\t\treturn $.cookie(name, value, options);\r\n\t\t},\r\n\r\n\t\tunset: function (name) {\r\n\t\t\tthis.init();\r\n\r\n\t\t\tname = this.cookiePrefix + name;\r\n\r\n\t\t\toptions = {\r\n\t\t\t\tpath: this.cookiePath,\r\n\t\t\t\tdomain: this.cookieDomain\r\n\t\t\t};\r\n\t\t\treturn $.removeCookie(name, options);\r\n\t\t}\r\n\t}\r\n})\r\n(jQuery, window);","(function ($, window) {\r\n\twindow.MyBB = window.MyBB || {};\r\n\r\n\twindow.MyBB.Spinner = {\r\n\t\tinProgresses: 0,\r\n\t\tadd: function () {\r\n\t\t\tthis.inProgresses++;\r\n\t\t\tif (this.inProgresses == 1) {\r\n\t\t\t\t$(\"#spinner\").show();\r\n\t\t\t}\r\n\t\t},\r\n\t\tremove: function () {\r\n\t\t\tthis.inProgresses--;\r\n\t\t\tif (this.inProgresses == 0) {\r\n\t\t\t\t$(\"#spinner\").hide();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n})\r\n(jQuery, window);","(function($, window) {\r\n    window.MyBB = window.MyBB || {};\r\n    \r\n\twindow.MyBB.Modals = function Modals()\r\n\t{\r\n\t\t$(\"*[data-modal]\").on(\"click\", this.toggleModal).bind(this);\r\n\t};\r\n\r\n\twindow.MyBB.Modals.prototype.toggleModal = function toggleModal(event) {\r\n\t\tevent.preventDefault();\r\n\r\n\t\t// Check to make sure we're clicking the link and not a child of the link\r\n\t\tif(event.target.nodeName === \"A\")\r\n\t\t{\r\n\t\t\t// Woohoo, it's the link!\r\n\t\t\tvar modalOpener = event.target,\r\n\t\t\t\tmodalSelector = $(modalOpener).data(\"modal\"),\r\n\t\t\t\tmodalFind = $(modalOpener).data(\"modal-find\"),\r\n\t\t\t\tmodal = $('<div/>', {\r\n\t    \t\t\t\"class\": \"modal-dialog\",\r\n\t\t\t\t}),\r\n\t\t\t\tmodalContent = \"\";\r\n\t\t} else {\r\n\t\t\t// Nope, it's one of those darn children.\r\n\t\t\tvar modalOpener = event.target,\r\n\t\t\t\tmodalSelector = $(modalOpener).parent().data(\"modal\"),\r\n\t\t\t\tmodalFind = $(modalOpener).data(\"modal-find\"),\r\n\t\t\t\tmodal = $('<div/>', {\r\n\t    \t\t\t\"class\": \"modal-dialog\",\r\n\t\t\t\t}),\r\n\t\t\t\tmodalContent = \"\";\r\n\t\t}\r\n\r\n\t\tif (modalSelector.substring(0, 1) === \".\" || modalSelector.substring(0, 1) === \"#\") {\r\n\t\t\t// Assume using a local, existing HTML element.\r\n\t\t\tmodalContent = $(modalSelector).html();\r\n\t\t\tmodal.html(modalContent);\r\n\t\t\tmodal.appendTo(\"body\").modal({\r\n\t\t\t\tzIndex: 1000\r\n\t\t\t});\r\n\t\t\t$('.modalHide').hide();\r\n\t\t\t$(\"input[type=number]\").stepper();\r\n\t\t\t$(\".password-toggle\").hideShowPassword(false, true);\r\n\t\t} else {\r\n\t\t\t// Assume modal content is coming from an AJAX request\r\n\r\n\t\t\t// data-modal-find is optional, default to \"#content\"\r\n\t\t\tif (modalFind === undefined) {\r\n\t\t\t\tmodalFind = \"#content\";\r\n\t\t\t}\r\n\r\n\t\t\t$.get('/'+modalSelector, function(response) {\r\n\t\t\t\tvar responseObject = $(response);\r\n\r\n\t\t\t\tmodalContent = $(modalFind, responseObject).html();\r\n\t\t\t\tmodal.html(modalContent);\r\n\t\t\t\tmodal.appendTo(\"body\").modal({\r\n\t\t\t\t\tzIndex: 1000\r\n\t\t\t\t});\r\n\t\t\t\t$('.modalHide').hide();\r\n\t\t\t\t$(\"input[type=number]\").stepper();\r\n\t\t\t\t$(\".password-toggle\").hideShowPassword(false, true);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n    \r\n    var modals = new window.MyBB.Modals(); // TODO: put this elsewhere :)\r\n})(jQuery, window);","(function($, window) {\r\n    window.MyBB = window.MyBB || {};\r\n\r\n\twindow.MyBB.Posts = function Posts()\r\n\t{\r\n\t\t// Show and hide posts\r\n\t\t$(\".postToggle\").on(\"click\", this.togglePost).bind(this);\r\n\t};\r\n\r\n\t// Show and hide posts\r\n\twindow.MyBB.Posts.prototype.togglePost = function togglePost(event) {\r\n\t\tevent.preventDefault();\r\n\t\t// Are we minimized or not?\r\n\t\tif($(event.target).hasClass(\"fa-minus\"))\r\n\t\t{\r\n\t\t\t// Perhaps instead of hide, apply a CSS class?\r\n\t\t\t$(event.target).parent().parent().parent().addClass(\"post--hidden\");\r\n\t\t\t// Make button a plus sign for expanding\r\n\t\t\t$(event.target).addClass(\"fa-plus\");\r\n\t\t\t$(event.target).removeClass(\"fa-minus\");\r\n\r\n\t\t} else {\r\n\t\t\t// We like this person again\r\n\t\t\t$(event.target).parent().parent().parent().removeClass(\"post--hidden\");\r\n\t\t\t// Just in case we change our mind again, show the hide button\r\n\t\t\t$(event.target).addClass(\"fa-minus\");\r\n\t\t\t$(event.target).removeClass(\"fa-show\");\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tvar posts = new window.MyBB.Posts();\r\n\r\n})(jQuery, window);","(function($, window) {\r\n    window.MyBB = window.MyBB || {};\r\n    \r\n\twindow.MyBB.Polls = function Polls()\r\n\t{\r\n\t\tthis.optionElement = $('#option-simple').clone().attr('id', '').removeClass('hidden').addClass('poll-option').hide();\r\n\t\t$('#option-simple').remove();\r\n\r\n\t\tthis.removeOption($('#add-poll .poll-option'));\r\n\r\n\t\t$('#new-option').click($.proxy(this.addOption, this));\r\n\r\n\t\t$('#poll-maximum-options').hide();\r\n\r\n\t\t$('#poll-is-multiple').change($.proxy(this.toggleMaxOptionsInput, this)).change();\r\n\r\n\t\tvar $addPollButton = $(\"#add-poll-button\");\r\n\t\t$addPollButton.click($.proxy(this.toggleAddPoll, this));\r\n\t\tif($addPollButton.length) {\r\n\t\t\tif($('#add-poll-input').val() === '1') {\r\n\t\t\t\t$('#add-poll').slideDown();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.timePicker();\r\n\t};\r\n\r\n\twindow.MyBB.Polls.prototype.timePicker = function timePicker() {\r\n\t\t$('#poll-end-at').datetimepicker({\r\n\t\t\tformat: 'Y-m-d H:i:s',\r\n\t\t\tlang: $('html').attr('lang'),// TODO: use our i18n\r\n\t\t\tminDate: 0\r\n\t\t});\r\n\t};\r\n\r\n\twindow.MyBB.Polls.prototype.toggleAddPoll = function toggleAddPoll() {\r\n\t\tif($('#add-poll-input').val() === '1') {\r\n\t\t\t$('#add-poll-input').val(0);\r\n\t\t\t$('#add-poll').slideUp();\r\n\t\t} else {\r\n\t\t\t$('#add-poll-input').val(1);\r\n\t\t\t$('#add-poll').slideDown();\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\twindow.MyBB.Polls.prototype.addOption = function addOption(event) {\r\n\t\tvar num_options = $('#add-poll .poll-option').length;\r\n\t\tif(num_options >= 10) { // TODO: settings\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tvar $option = this.optionElement.clone();\r\n\t\t$option.find('input').attr('name', 'option['+(num_options+1)+']')\r\n\t\t$('#add-poll .poll-option').last().after($option);\r\n\t\t$option.slideDown();\r\n\t\tthis.removeOption($option);\r\n\t\treturn false;\r\n\t};\r\n\r\n\twindow.MyBB.Polls.prototype.removeOption = function bindRemoveOption($parent) {\r\n\t\t$parent.find('.remove-option').click($.proxy(function(event) {\r\n\t\t\tvar $me = $(event.target),\r\n\t\t\t\t$myParent = $me.parents('.poll-option');\r\n\t\t\tif($('.poll-option').length <= 2)\r\n\t\t\t{\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t$myParent.slideUp(500);\r\n\r\n\t\t\tsetTimeout($.proxy(function() {\r\n\t\t\t\t$myParent.remove();\r\n\t\t\t\tthis.fixOptionsName();\r\n\t\t\t}, this), 500);\r\n\t\t}, this));\r\n\t\tif(!Modernizr.touch) {\r\n\t\t\t$parent.find('.remove-option').powerTip({ placement: 's', smartPlacement: true });\r\n\t\t}\r\n\t};\r\n\r\n\twindow.MyBB.Polls.prototype.fixOptionsName = function() {\r\n\t\tvar i = 0;\r\n\t\t$('#add-poll .poll-option').each(function() {\r\n\t\t\ti++;\r\n\t\t\t$(this).find('input').attr('name', 'option['+i+']');\r\n\t\t});\r\n\t};\r\n\r\n\twindow.MyBB.Polls.prototype.toggleMaxOptionsInput = function toggleMaxOptionsInput(event) {\r\n\t\tme = event.target;\r\n\t\tif($(me).is(':checked')) {\r\n\t\t\t$('#poll-maximum-options').slideDown();\r\n\t\t}\r\n\t\telse {\r\n\t\t\t$('#poll-maximum-options').slideUp();\r\n\t\t}\r\n\t};\r\n\r\n\tvar polls = new window.MyBB.Polls();\r\n\r\n})(jQuery, window);","(function ($, window) {\r\n\twindow.MyBB = window.MyBB || {};\r\n\r\n\twindow.MyBB.Quotes = function Quotes() {\r\n\r\n\t\t// MultiQuote\r\n\t\t$(\".quoteButton\").on(\"click\", this.multiQuoteButton.bind(this));\r\n\r\n\t\tthis.showQuoteBar();\r\n\r\n\t\t$(\"#quoteBar__select\").on(\"click\", $.proxy(this.addQuotes, this));\r\n\t\t$(\"#quoteBar__view\").on(\"click\", $.proxy(this.viewQuotes, this));\r\n\t\t$(\"#quoteBar__deselect\").on(\"click\", $.proxy(this.removeQuotes, this));\r\n\r\n\t\t$('.quickQuote .fast').on('click', $.proxy(this.quickQuote, this));\r\n\t\t$('.quickQuote .add').on('click', $.proxy(this.quickAddQuote, this));\r\n\r\n\t\t$('.quote__select').on(\"click\", $.proxy(this.quoteAdd, this));\r\n\t\t$('.quote__remove').on(\"click\", $.proxy(this.quoteRemove, this));\r\n\t\t$(\"body\").on(\"mouseup\", $.proxy(this.checkQuickQuote, this));\r\n\r\n\t\tthis.quoteButtons();\r\n\t};\r\n\r\n\twindow.MyBB.Quotes.prototype.quickQuote = function quickQuote(event) {\r\n\t\tvar $me = $(event.target);\r\n\t\tif (!$me.hasClass('quickQuote')) {\r\n\t\t\t$me = $me.parents('.quickQuote');\r\n\t\t}\r\n\r\n\t\tvar $post = $me.parents('.post');\r\n\r\n\t\tif ($me.data('content')) {\r\n\t\t\t$content = $('<div/>');\r\n\t\t\t$content.html($me.data('content'));\r\n\t\t\tthis.addQuote($post.data('postid'), $post.data('type'), $content.text());\r\n\t\t}\r\n\t\tthis.hideQuickQuote();\r\n\t}\r\n\r\n\twindow.MyBB.Quotes.prototype.quickAddQuote = function quickAddQuote(event) {\r\n\t\tvar $me = $(event.target),\r\n\t\t\tquotes = this.getQuotes();\r\n\t\tif (!$me.hasClass('quickQuote')) {\r\n\t\t\t$me = $me.parents('.quickQuote');\r\n\t\t}\r\n\r\n\t\tvar $post = $me.parents('.post');\r\n\r\n\t\tif ($me.data('content')) {\r\n\t\t\t$content = $('<div/>');\r\n\t\t\t$content.html($me.data('content'));\r\n\t\t\tquotes.push({\r\n\t\t\t\t'id': $post.data('type') + '_' + $post.data('postid'),\r\n\t\t\t\t'data': $content.text()\r\n\t\t\t});\r\n\t\t\tMyBB.Cookie.set('quotes', JSON.stringify(quotes));\r\n\r\n\t\t\tthis.showQuoteBar();\r\n\t\t}\r\n\t\tthis.hideQuickQuote();\r\n\t}\r\n\r\n\twindow.MyBB.Quotes.prototype.checkQuickQuote = function checkQuickQuote(event) {\r\n\t\tvar $me = $(event.target);\r\n\t\tif ($me.hasClass('quickQuote') || $me.parents('.quickQuote').length) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (!$me.hasClass('post')) {\r\n\t\t\t$me = $me.parents('.post');\r\n\t\t}\r\n\r\n\t\tif ($me && $me.length) {\r\n\t\t\tvar pid = $me.data('postid');\r\n\r\n\t\t\tif ($.trim(window.getSelection().toString())) {\r\n\t\t\t\tif (elementContainsSelection($me.find('.post__body')[0])) {\r\n\t\t\t\t\tthis.showQuickQuote(pid);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.hideQuickQuote();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.hideQuickQuote();\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.hideQuickQuote();\r\n\t\t}\r\n\t}\r\n\r\n\twindow.MyBB.Quotes.prototype.showQuickQuote = function showQuckQuote(pid) {\r\n\t\tvar selection = window.getSelection(),\r\n\t\t\trange = selection.getRangeAt(0),\r\n\t\t\trect = range.getBoundingClientRect();\r\n\t\t$elm = $(\"#post-\" + pid).find('.quickQuote').show().data('content', $.trim(window.getSelection().toString()));\r\n\t\t$elm.css({\r\n\t\t\t'top': (window.scrollY + rect.top - $elm.outerHeight() - 4) + 'px',\r\n\t\t\t'left': (window.scrollX + rect.left - (($elm.outerWidth() - rect.width) / 2)) + 'px'\r\n\t\t});\r\n\t}\r\n\r\n\twindow.MyBB.Quotes.prototype.hideQuickQuote = function () {\r\n\t\t$('.post .quickQuote').hide().data('content', '');\r\n\t}\r\n\r\n\twindow.MyBB.Quotes.prototype.getQuotes = function getQuotes() {\r\n\t\tvar quotes = MyBB.Cookie.get('quotes'),\r\n\t\t\tmyQuotes = [];\r\n\t\tif (!quotes) {\r\n\t\t\tquotes = [];\r\n\t\t}\r\n\t\telse {\r\n\t\t\tquotes = JSON.parse(quotes);\r\n\t\t}\r\n\t\t$.each(quotes, function (key, quote) {\r\n\t\t\tif (quote != null) {\r\n\t\t\t\tmyQuotes.push(quote);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tMyBB.Cookie.set('quotes', JSON.stringify(myQuotes));\r\n\t\treturn myQuotes;\r\n\t};\r\n\r\n\t// MultiQuote\r\n\twindow.MyBB.Quotes.prototype.multiQuoteButton = function multiQuoteButton(event) {\r\n\t\tevent.preventDefault();\r\n\t\tvar $me = $(event.target);\r\n\t\tif (!$me.hasClass('quoteButton')) {\r\n\t\t\t$me = $me.parents('.quoteButton');\r\n\t\t}\r\n\t\tvar $post = $me.parents('.post');\r\n\r\n\t\tvar postId = parseInt($post.data('postid')),\r\n\t\t\ttype = $post.data('type'),\r\n\t\t\tquotes = this.getQuotes();\r\n\r\n\t\tif (postId) {\r\n\t\t\tvar removed = false;\r\n\t\t\t$.each(quotes, function(key, quote) {\r\n\t\t\t\tif(typeof quote != 'string') {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(quote == type + '_' + postId) {\r\n\t\t\t\t\tdelete quotes[key];\r\n\t\t\t\t\tremoved = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (!removed) {\r\n\t\t\t\tquotes.push(type + '_' + postId);\r\n\t\t\t\t$me.find('.quoteButton__add').hide();\r\n\t\t\t\t$me.find('.quoteButton__remove').show();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t$me.find('.quoteButton__add').show();\r\n\t\t\t\t$me.find('.quoteButton__remove').hide();\r\n\t\t\t}\r\n\r\n\t\t\tMyBB.Cookie.set('quotes', JSON.stringify(quotes));\r\n\r\n\t\t\tthis.showQuoteBar();\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t};\r\n\r\n\twindow.MyBB.Quotes.prototype.showQuoteBar = function showQuoteBar() {\r\n\t\tvar quotes = this.getQuotes();\r\n\r\n\t\tif (quotes.length) {\r\n\t\t\t$(\"#quoteBar\").show();\r\n\t\t}\r\n\t\telse {\r\n\t\t\t$(\"#quoteBar\").hide();\r\n\t\t}\r\n\t};\r\n\r\n\twindow.MyBB.Quotes.prototype.addQuotes = function addQuotes() {\r\n\t\tvar quotes = this.getQuotes(),\r\n\t\t\t$quoteBar = $(\"#quoteBar\"),\r\n\t\t\t$textarea = $($quoteBar.data('textarea'));\r\n\r\n\t\tMyBB.Spinner.add();\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: '/post/quotes',\r\n\t\t\tdata: {\r\n\t\t\t\t'posts': quotes,\r\n\t\t\t\t'_token': $quoteBar.parents('form').find('input[name=_token]').val()\r\n\t\t\t},\r\n\t\t\tmethod: 'POST'\r\n\t\t}).done(function (json) {\r\n\t\t\tif (json.error) {\r\n\t\t\t\talert(json.error);// TODO: js error\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar value = $textarea.val();\r\n\t\t\t\tif(typeof Editor != 'undefined') {\r\n\t\t\t\t\tvalue = Editor.getData();\r\n\t\t\t\t}\r\n\t\t\t\tif (value && value.substr(-2) != \"\\n\\n\") {\r\n\t\t\t\t\tif (value.substr(-1) != \"\\n\") {\r\n\t\t\t\t\t\tvalue += \"\\n\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalue += \"\\n\";\r\n\t\t\t\t}\r\n\t\t\t\t$textarea.val(value + json.message).focus();\r\n\t\t\t\tif(typeof Editor != 'undefined') {\r\n\t\t\t\t\tEditor.setData(value + json.message);\r\n\t\t\t\t\tEditor.focus();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t$.modal.close();\r\n\t\t}).always(function () {\r\n\t\t\tMyBB.Spinner.remove();\r\n\t\t});\r\n\r\n\t\t$quoteBar.hide();\r\n\t\tMyBB.Cookie.unset('quotes');\r\n\t\tthis.quoteButtons();\r\n\t\treturn false;\r\n\t};\r\n\r\n\twindow.MyBB.Quotes.prototype.addQuote = function addQuote(postid, type, content) {\r\n\t\tvar $textarea = $(\"#message\");\r\n\r\n\t\tMyBB.Spinner.add();\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: '/post/quotes',\r\n\t\t\tdata: {\r\n\t\t\t\t'posts': [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'id': type + '_' + postid,\r\n\t\t\t\t\t\t'data': content\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t'_token': $(\"#quoteBar\").parents('form').find('input[name=_token]').val()\r\n\t\t\t},\r\n\t\t\tmethod: 'POST'\r\n\t\t}).done(function (json) {\r\n\t\t\tif (json.error) {\r\n\t\t\t\talert(json.error);// TODO: js error\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar value = $textarea.val();\r\n\t\t\t\tif(typeof Editor != 'undefined') {\r\n\t\t\t\t\tvalue = Editor.getData();\r\n\t\t\t\t}\r\n\t\t\t\tif (value && value.substr(-2) != \"\\n\\n\") {\r\n\t\t\t\t\tif (value.substr(-1) != \"\\n\") {\r\n\t\t\t\t\t\tvalue += \"\\n\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalue += \"\\n\";\r\n\t\t\t\t}\r\n\t\t\t\t$textarea.val(value + json.message).focus();\r\n\t\t\t\tif(typeof Editor != 'undefined') {\r\n\t\t\t\t\tEditor.setData(value + json.message);\r\n\t\t\t\t\tEditor.focus();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}).always(function () {\r\n\t\t\tMyBB.Spinner.remove();\r\n\t\t});\r\n\r\n\t\tthis.hideQuickQuote();\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\twindow.MyBB.Quotes.prototype.viewQuotes = function viewQuotes() {\r\n\t\tMyBB.Spinner.add();\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: '/post/quotes/all',\r\n\t\t\tdata: {\r\n\t\t\t\t'posts': this.getQuotes(),\r\n\t\t\t\t'_token': $(\"#quoteBar\").parents('form').find('input[name=_token]').val()\r\n\t\t\t},\r\n\t\t\tmethod: 'POST'\r\n\t\t}).done($.proxy(function (data) {\r\n\t\t\tvar modalContent = $(\"#content\", $(data)),\r\n\t\t\t\tmodal = $('<div/>', {\r\n\t\t\t\t\t\"class\": \"modal-dialog viewQuotes\"\r\n\t\t\t\t});\r\n\t\t\tmodalContent.find('.post-quotes').css({\r\n\t\t\t\t'max-height': ($(window).height()-100)+'px'\r\n\t\t\t});\r\n\t\t\tmodal.html(modalContent.html());\r\n\t\t\tmodal.appendTo(\"body\").modal({\r\n\t\t\t\tzIndex: 1000\r\n\t\t\t});\r\n\r\n\t\t\tif(Modernizr.touch)\r\n\t\t\t{\r\n\t\t\t\t$('.radio-buttons .radio-button, .checkbox-buttons .checkbox-button').click(function() {\r\n\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$('span.icons i, a, .caption, time').powerTip({ placement: 's', smartPlacement: true });\r\n\t\t\t}\r\n\r\n\t\t\t$('.quote__select').on(\"click\", $.proxy(this.quoteAdd, this));\r\n\t\t\t$('.quote__remove').on(\"click\", $.proxy(this.quoteRemove, this));\r\n\t\t\t$(\".selectAllQuotes\").on(\"click\", $.proxy(this.addQuotes, this));\r\n\t\t\t$('.modalHide').hide();\r\n\t\t}, this)).always(function () {\r\n\t\t\tMyBB.Spinner.remove();\r\n\t\t});\r\n\r\n\t\tthis.hideQuickQuote();\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\twindow.MyBB.Quotes.prototype.removeQuotes = function removeQuotes() {\r\n\t\t$quoteBar = $(\"#quoteBar\");\r\n\t\t$quoteBar.hide();\r\n\t\tMyBB.Cookie.unset('quotes');\r\n\t\tthis.quoteButtons();\r\n\t\treturn false;\r\n\t};\r\n\r\n\twindow.MyBB.Quotes.prototype.quoteButtons = function quoteButtons() {\r\n\t\tvar quotes = this.getQuotes();\r\n\r\n\t\t$('.quoteButton__add').show();\r\n\t\t$('.quoteButton__remove').hide();\r\n\r\n\t\t$.each(quotes, function (key, quote) {\r\n\t\t\tif (typeof quote != 'string') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tquote = quote.split('_');\r\n\t\t\ttype = quote[0];\r\n\t\t\tpostId = parseInt(quote[1]);\r\n\t\t\tvar $quoteButton = $(\"#post-\" + postId + \"[data-type='\" + type + \"']\").find('.quoteButton');\r\n\t\t\t$quoteButton.find('.quoteButton__add').hide();\r\n\t\t\t$quoteButton.find('.quoteButton__remove').show();\r\n\t\t})\r\n\t}\r\n\r\n\twindow.MyBB.Quotes.prototype.quoteAdd = function quoteAdd(event) {\r\n\t\tvar $me = $(event.target),\r\n\t\t\t$post = $me.parents('.content-quote'),\r\n\t\t\t$textarea = $(\"#message\"),\r\n\t\t\tquotes = this.getQuotes();\r\n\r\n\t\tvar value = $textarea.val();\r\n\t\tif(typeof Editor != 'undefined') {\r\n\t\t\tvalue = Editor.getData();\r\n\t\t}\r\n\t\tif (value && value.substr(-2) != \"\\n\\n\") {\r\n\t\t\tif (value.substr(-1) != \"\\n\") {\r\n\t\t\t\tvalue += \"\\n\";\r\n\t\t\t}\r\n\t\t\tvalue += \"\\n\";\r\n\t\t}\r\n\t\t$textarea.val(value + $post.data('quote')).focus();\r\n\t\tif(typeof Editor != 'undefined') {\r\n\t\t\tEditor.setData(value + $post.data('quote'));\r\n\t\t\tEditor.focus();\r\n\t\t}\r\n\r\n\t\tdelete quotes[$post.data('id')];\r\n\t\tMyBB.Cookie.set('quotes', JSON.stringify(quotes));\r\n\t\t$post.slideUp('fast');\r\n\r\n\t\tif(this.getQuotes().length == 0) {\r\n\t\t\t$.modal.close();\r\n\t\t}\r\n\r\n\t\twhile($post.next().length) {\r\n\t\t\t$post = $post.next();\r\n\t\t\t$post.data('id', $post.data('id')-1);\r\n\t\t}\r\n\r\n\t\tthis.quoteButtons();\r\n\t\tthis.showQuoteBar();\r\n\t}\r\n\r\n\twindow.MyBB.Quotes.prototype.quoteRemove = function quoteRemove(event) {\r\n\t\tvar $me = $(event.target),\r\n\t\t\t$post = $me.parents('.content-quote'),\r\n\t\t\tquotes = this.getQuotes();\r\n\r\n\t\tdelete quotes[$post.data('id')];\r\n\t\tMyBB.Cookie.set('quotes', JSON.stringify(quotes));\r\n\t\t$post.slideUp('fast');\r\n\r\n\t\tif(this.getQuotes().length == 0) {\r\n\t\t\t$.modal.close();\r\n\t\t}\r\n\r\n\t\twhile($post.next().length) {\r\n\t\t\t$post = $post.next();\r\n\t\t\t$post.data('id', $post.data('id')-1);\r\n\t\t}\r\n\r\n\t\tthis.quoteButtons();\r\n\t\tthis.showQuoteBar();\r\n\t\treturn false;\r\n\t}\r\n\r\n\tvar quotes = new window.MyBB.Quotes();\r\n\r\n\r\n\t// Helper functions\r\n\t// http://stackoverflow.com/questions/8339857\r\n\tfunction isOrContains(node, container) {\r\n\t\twhile (node) {\r\n\t\t\tif (node === container) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tnode = node.parentNode;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction elementContainsSelection(el) {\r\n\t\tvar sel;\r\n\t\tif (window.getSelection) {\r\n\t\t\tsel = window.getSelection();\r\n\t\t\tif (sel.rangeCount > 0) {\r\n\t\t\t\tfor (var i = 0; i < sel.rangeCount; ++i) {\r\n\t\t\t\t\tif (!isOrContains(sel.getRangeAt(i).commonAncestorContainer, el)) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t} else if ((sel = document.selection) && sel.type != \"Control\") {\r\n\t\t\treturn isOrContains(sel.createRange().parentElement(), el);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n})\r\n(jQuery, window);","$('html').addClass('js');\r\n\r\n$(function () {\r\n\t\r\n\t$('.nojs').hide();\r\n\r\n\tif(Modernizr.touch)\r\n\t{\r\n\t\t$('.radio-buttons .radio-button, .checkbox-buttons .checkbox-button').click(function() {\r\n\r\n\t\t});\r\n\t}\r\n\r\n\telse\r\n\t{\r\n\t\t$('span.icons i, a, .caption, time').powerTip({ placement: 's', smartPlacement: true });\r\n\t}\r\n\r\n\t$('.user-navigation__links, #main-menu').dropit({ submenuEl: 'div.dropdown' });\r\n\t$('.dropdown-menu').dropit({ submenuEl: 'ul.dropdown', triggerEl: 'span.dropdown-button' });\r\n\t$(\"input[type=number]\").stepper();\r\n\t$(\".password-toggle\").hideShowPassword(false, true);\r\n\r\n\t$('.clear-selection-posts a').click(function(event) {\r\n\t\tevent.preventDefault();\r\n\t\t$('.thread').find('input[type=checkbox]:checked').removeAttr('checked').closest(\".post\").removeClass(\"highlight\");\r\n\t\t$('.inline-moderation').removeClass('floating');\r\n\t});\r\n\r\n\t$('.clear-selection-threads a').click(function(event) {\r\n\t\tevent.preventDefault();\r\n\t\t$('.thread-list').find('input[type=checkbox]:checked').removeAttr('checked').closest(\".thread\").removeClass(\"highlight\");\r\n\t\t$('.checkbox-select.check-all').find('input[type=checkbox]:checked').removeAttr('checked');\r\n\t\t$('.inline-moderation').removeClass('floating');\r\n\t});\r\n\r\n\t$('.clear-selection-forums a').click(function(event) {\r\n\t\tevent.preventDefault();\r\n\t\t$('.forum-list').find('input[type=checkbox]:checked').removeAttr('checked').closest(\".forum\").removeClass(\"highlight\");\r\n\t\t$('.checkbox-select.check-all').find('input[type=checkbox]:checked').removeAttr('checked');\r\n\t\t$('.inline-moderation').removeClass('floating');\r\n\t});\r\n\r\n\t$(\"#search .search-button\").click(function(event) {\r\n\t\tevent.preventDefault();\r\n\t\t$(\"#search .search-container\").slideDown();\r\n\t});\r\n\r\n\t$(\".post :checkbox\").change(function() {\r\n\t\t$(this).closest(\".post\").toggleClass(\"highlight\", this.checked);\r\n\r\n\t\tvar checked_boxes = $('.highlight').length;\r\n\r\n\t\tif(checked_boxes == 1)\r\n\t\t{\r\n\t\t\t$('.inline-moderation').addClass('floating');\r\n\t\t}\r\n\r\n\t\tif(checked_boxes == 0)\r\n\t\t{\r\n\t\t\t$('.inline-moderation').removeClass('floating');\r\n\t\t}\r\n\r\n\t\t$('.inline-moderation .selection-count').text(' ('+checked_boxes+')')\r\n\t});\r\n\r\n\t$(\".thread .checkbox-select :checkbox\").change(function() {\r\n\t\t$(this).closest(\".thread\").toggleClass(\"highlight\", this.checked);\r\n\r\n\t\tvar checked_boxes = $('.highlight').length;\r\n\r\n\t\tif(checked_boxes == 1)\r\n\t\t{\r\n\t\t\t$('.inline-moderation').addClass('floating');\r\n\t\t}\r\n\r\n\t\tif(checked_boxes == 0)\r\n\t\t{\r\n\t\t\t$('.inline-moderation').removeClass('floating');\r\n\t\t}\r\n\r\n\t\t$('.inline-moderation .selection-count').text(' ('+checked_boxes+')')\r\n\t});\r\n\r\n\t$(\".forum .checkbox-select :checkbox\").change(function() {\r\n\t\t$(this).closest(\".forum\").toggleClass(\"highlight\", this.checked);\r\n\r\n\t\tvar checked_boxes = $('.highlight').length;\r\n\r\n\t\tif(checked_boxes == 1)\r\n\t\t{\r\n\t\t\t$('.inline-moderation').addClass('floating');\r\n\t\t}\r\n\r\n\t\tif(checked_boxes == 0)\r\n\t\t{\r\n\t\t\t$('.inline-moderation').removeClass('floating');\r\n\t\t}\r\n\r\n\t\t$('.inline-moderation .selection-count').text(' ('+checked_boxes+')');\r\n\t});\r\n\r\n\t$(\".checkbox-select.check-all :checkbox\").click(function() {\r\n\t\t$(this).closest('section').find('input[type=checkbox]').prop('checked', this.checked);\r\n\t\t$(this).closest('section').find('.checkbox-select').closest('.thread').toggleClass(\"highlight\", this.checked);\r\n\t\t$(this).closest('section').find('.checkbox-select').closest('.forum').toggleClass(\"highlight\", this.checked);\r\n\r\n\t\tvar checked_boxes = $('.highlight').length;\r\n\r\n\t\tif(checked_boxes >= 1)\r\n\t\t{\r\n\t\t\t$('.inline-moderation').addClass('floating');\r\n\t\t}\r\n\r\n\t\tif(checked_boxes == 0)\r\n\t\t{\r\n\t\t\t$('.inline-moderation').removeClass('floating');\r\n\t\t}\r\n\r\n\t\t$('.inline-moderation .selection-count').text(' ('+checked_boxes+')');\r\n\t});\r\n\r\n/*\t$('.post.reply textarea.editor, .form textarea.editor').sceditor({\r\n\t\tplugins: 'bbcode',\r\n\t\tstyle: 'js/vendor/sceditor/jquery.sceditor.default.min.css',\r\n\t\temoticonsRoot: 'assets/images/',\r\n\t\ttoolbar: 'bold,italic,underline|font,size,color,removeformat|left,center,right|image,link,unlink|emoticon,youtube|bulletlist,orderedlist|quote,code|source',\r\n\t\tresizeWidth: false,\r\n\t\tautofocus: false,\r\n\t\tautofocusEnd: false\r\n\t});*/\r\n});"],"sourceRoot":"/source/"}