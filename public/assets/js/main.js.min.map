{"version":3,"sources":["other.js","cookie.js","spinner.js","modal.js","post.js","poll.js","quote.js","avatar.js","moderation.js"],"names":["getTooltipContent","element","targetElement","content","tipText","data","DATA_POWERTIP","tipObject","DATA_POWERTIPJQ","tipTarget","DATA_POWERTIPTARGET","$","isFunction","call","length","clone","html","escapeHTML","string","String","replace","s","entityMap","submitFormAsGet","id","newRoute","form","find","val","attr","submit","openMenu","e","preventDefault","animate","background-position-x","marginLeft","marginRight","closeMenu","window","MyBB","Cookie","cookiePrefix","cookiePath","cookieDomain","init","Settings","this","get","name","cookie","set","value","expires","expire","Date","setTime","getTime","options","path","domain","unset","removeCookie","jQuery","Spinner","inProgresses","add","show","remove","hide","Modals","on","toggleModal","bind","modal","defaults","closeText","prototype","event","target","nodeName","modalOpener","modalSelector","modalFind","class","modalContent","parent","substring","appendTo","zIndex","stepper","hideShowPassword","Avatar","undefined","modalParams","currentTarget","JSON","parse","response","responseObject","CLOSE","always","Posts","togglePost","proxy","confirmDelete","hasClass","addClass","removeClass","confirm","Lang","Polls","optionElement","removeOption","click","addOption","change","toggleMaxOptionsInput","$addPollButton","toggleAddPoll","slideDown","timePicker","datetimepicker","format","lang","i18n","mybb","months","dayOfWeek","minDate","slideUp","num_options","$option","last","after","$parent","$me","$myParent","parents","setTimeout","fixOptionsName","Modernizr","touch","powerTip","placement","smartPlacement","i","each","me","is","isOrContains","node","container","parentNode","elementContainsSelection","el","sel","getSelection","rangeCount","getRangeAt","commonAncestorContainer","document","selection","type","createRange","parentElement","Quotes","multiQuoteButton","showQuoteBar","addQuotes","viewQuotes","removeQuotes","quickQuote","quickAddQuote","quoteAdd","quoteRemove","checkQuickQuote","quoteButtons","$post","$content","addQuote","text","hideQuickQuote","quotes","getQuotes","push","stringify","pid","trim","toString","showQuickQuote","range","rect","getBoundingClientRect","$elm","css","top","scrollY","outerHeight","left","scrollX","outerWidth","width","myQuotes","key","quote","postId","parseInt","removed","$quoteBar","$textarea","ajax","url","posts","_token","method","done","json","error","substr","message","focus","close","postid","max-height","height","split","$quoteButton","next","dropAvatar","$avatarDrop","avatarDropUrl","Dropzone","autoDiscover","avatarDrop","acceptedFiles","clickable","paramName","thumbnailWidth","thumbnailHeight","uploadMultiple","previewTemplate","file","dataUrl","JcropUpdateInputs","c","$jcrop","x","y","x2","y2","w","h","parseJSON","xhr","responseText","needCrop","Jcrop","onChange","onSelect","post","success","avatar","dropit","submenuEl","triggerEl","autosize","menu","&","<",">","\"","'","/","Moderation","ajaxSetup","headers","X-CSRF-TOKEN","moderation_content","first","moderation_name","moderation_ids","getSelectedIds","moderation_source_type","moderation_source_id","location","reload","removeAttr","closest","toggleClass","checked","checked_boxes","map","injectModalParams"],"mappings":"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","file":"main.js","sourcesContent":["$('html').addClass('js');\n\n$(function () {\n\n\t$('.nojs').hide();\n\n\tif(Modernizr.touch)\n\t{\n\t\t$('.radio-buttons .radio-button, .checkbox-buttons .checkbox-button').click(function() {\n\n\t\t});\n\t}\n\telse\n\t{\n\t\t$('span.icons i, a, .caption, time').powerTip({ placement: 's', smartPlacement: true });\n\t}\n\n\t$('.user-navigation__links, #main-menu').dropit({ submenuEl: 'div.dropdown' });\n\t$('.dropdown-menu').dropit({ submenuEl: 'ul.dropdown', triggerEl: 'span.dropdown-button' });\n\t$(\"input[type=number]\").stepper();\n\t$(\".password-toggle\").hideShowPassword(false, true);\n\n\t$(\"#search .search-button\").click(function(event) {\n\t\tevent.preventDefault();\n\t\t$(\"#search .search-container\").slideDown();\n\t});\n\n\tautosize($('.post textarea'));\n\n\t$('a.show-menu__link').click(function(e) {\n\t\tif(menu == 0)\n\t\t{\n\t\t\tmenu = 1;\n\t\t\topenMenu(e);\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tmenu = 0;\n\t\t\tcloseMenu(e);\n\t\t}\n\t});\n\n/*\t$('.post.reply textarea.editor, .form textarea.editor').sceditor({\n\t\tplugins: 'bbcode',\n\t\tstyle: 'js/vendor/sceditor/jquery.sceditor.default.min.css',\n\t\temoticonsRoot: 'assets/images/',\n\t\ttoolbar: 'bold,italic,underline|font,size,color,removeformat|left,center,right|image,link,unlink|emoticon,youtube|bulletlist,orderedlist|quote,code|source',\n\t\tresizeWidth: false,\n\t\tautofocus: false,\n\t\tautofocusEnd: false\n\t});*/\n});\n\n// Overwrite the powertip helper function - it's nearly the same\nfunction getTooltipContent(element) {\n\tvar tipText = element.data(DATA_POWERTIP),\n\t\ttipObject = element.data(DATA_POWERTIPJQ),\n\t\ttipTarget = element.data(DATA_POWERTIPTARGET),\n\t\ttargetElement,\n\t\tcontent;\n\n\tif (tipText) {\n\t\tif ($.isFunction(tipText)) {\n\t\t\ttipText = tipText.call(element[0]);\n\t\t}\n\t\tcontent = tipText;\n\t} else if (tipObject) {\n\t\tif ($.isFunction(tipObject)) {\n\t\t\ttipObject = tipObject.call(element[0]);\n\t\t}\n\t\tif (tipObject.length > 0) {\n\t\t\tcontent = tipObject.clone(true, true);\n\t\t}\n\t} else if (tipTarget) {\n\t\ttargetElement = $('#' + tipTarget);\n\t\tif (targetElement.length > 0) {\n\t\t\tcontent = targetElement.html();\n\t\t}\n\t}\n\n\t// Except we're escaping html\n\treturn escapeHTML(content);\n}\n\n// Source: http://stackoverflow.com/questions/24816/escaping-html-strings-with-jquery\n\nvar entityMap = {\n\t\"&\": \"&amp;\",\n\t\"<\": \"&lt;\",\n\t\">\": \"&gt;\",\n\t'\"': '&quot;',\n\t\"'\": '&#39;',\n\t\"/\": '&#x2F;'\n};\n\nfunction escapeHTML(string) {\n\tif(typeof string == 'string') {\n\t\treturn String(string).replace(/[&<>\"'\\/]/g, function (s) {\n\t\t\treturn entityMap[s];\n\t\t});\n\t}\n\n\treturn string;\n}\n\nfunction submitFormAsGet(id, newRoute) {\n\tvar form = $('#' + id);\n\tform.find(\"input[name=_token]\").val('');\n\n\tif(newRoute != null) {\n\t\tform.attr('action', newRoute);\n\t}\n\n\tform.attr('method', 'get').submit();\n\treturn false;\n}\n\nfunction openMenu(e) {\n\te.preventDefault();\n\t$(\"body\").animate({'background-position-x': '0px'}, 200, function() { });\n\t$(\".sidebar-menu\").animate({marginLeft: \"0px\"}, 200, function() { });\n\t$(\".page-body\").animate({marginLeft: \"225px\", marginRight: \"-225px\"}, 200, function() { });\n}\n\nfunction closeMenu(e) {\n\te.preventDefault();\n\t$(\"body\").animate({'background-position-x': '-225px'}, 200, function() { });\n\t$(\".sidebar-menu\").animate({marginLeft: \"-225px\"}, 200, function() { });\n\t$(\".page-body\").animate({marginLeft: \"0\", marginRight: \"0\"}, 200, function() { });\n}\n","(function ($, window) {\n\twindow.MyBB = window.MyBB || {};\n\n\twindow.MyBB.Cookie = {\n\t\tcookiePrefix: '',\n\t\tcookiePath: '/',\n\t\tcookieDomain: '',\n\n\t\tinit: function () {\n\t\t\tMyBB.Settings = MyBB.Settings || {};\n\t\t\tif (typeof MyBB.Settings.cookiePrefix != 'undefined') {\n\t\t\t\tthis.cookiePrefix = MyBB.Settings.cookiePrefix;\n\t\t\t}\n\t\t\tif (typeof MyBB.Settings.cookiePath != 'undefined') {\n\t\t\t\tthis.cookiePath = MyBB.Settings.cookiePath;\n\t\t\t}\n\t\t\tif (typeof MyBB.Settings.cookieDomain != 'undefined') {\n\t\t\t\tthis.cookieDomain = MyBB.Settings.cookieDomain;\n\t\t\t}\n\t\t},\n\n\t\tget: function (name) {\n\t\t\tthis.init();\n\n\t\t\tname = this.cookiePrefix + name;\n\t\t\treturn $.cookie(name);\n\t\t},\n\n\t\tset: function (name, value, expires) {\n\t\t\tthis.init();\n\n\t\t\tname = this.cookiePrefix + name;\n\t\t\tif (!expires) {\n\t\t\t\texpires = 157680000; // 5*365*24*60*60 => 5 years\n\t\t\t}\n\n\t\t\texpire = new Date();\n\t\t\texpire.setTime(expire.getTime() + (expires * 1000));\n\n\t\t\toptions = {\n\t\t\t\texpires: expire,\n\t\t\t\tpath: this.cookiePath,\n\t\t\t\tdomain: this.cookieDomain\n\t\t\t};\n\n\t\t\treturn $.cookie(name, value, options);\n\t\t},\n\n\t\tunset: function (name) {\n\t\t\tthis.init();\n\n\t\t\tname = this.cookiePrefix + name;\n\n\t\t\toptions = {\n\t\t\t\tpath: this.cookiePath,\n\t\t\t\tdomain: this.cookieDomain\n\t\t\t};\n\t\t\treturn $.removeCookie(name, options);\n\t\t}\n\t}\n})\n(jQuery, window);","(function ($, window) {\n\twindow.MyBB = window.MyBB || {};\n\n\twindow.MyBB.Spinner = {\n\t\tinProgresses: 0,\n\t\tadd: function () {\n\t\t\tthis.inProgresses++;\n\t\t\tif (this.inProgresses == 1) {\n\t\t\t\t$(\"#spinner\").show();\n\t\t\t}\n\t\t},\n\t\tremove: function () {\n\t\t\tthis.inProgresses--;\n\t\t\tif (this.inProgresses == 0) {\n\t\t\t\t$(\"#spinner\").hide();\n\t\t\t}\n\t\t}\n\t}\n})\n(jQuery, window);","(function($, window) {\n    window.MyBB = window.MyBB || {};\n    \n\twindow.MyBB.Modals = function Modals()\n\t{\n\t\t$(\"*[data-modal]\").on(\"click\", this.toggleModal).bind(this);\n\t\t$.modal.defaults.closeText = 'x';\n\t};\n\n\twindow.MyBB.Modals.prototype.toggleModal = function toggleModal(event) {\n\t\tevent.preventDefault();\n\n\t\t// Check to make sure we're clicking the link and not a child of the link\n\t\tif(event.target.nodeName === \"A\")\n\t\t{\n\t\t\t// Woohoo, it's the link!\n\t\t\tvar modalOpener = event.target,\n\t\t\t\tmodalSelector = $(modalOpener).data(\"modal\"),\n\t\t\t\tmodalFind = $(modalOpener).data(\"modal-find\"),\n\t\t\t\tmodal = $('<div/>', {\n\t    \t\t\t\"class\": \"modal-dialog\",\n\t\t\t\t\tcloseText: ''\n\t\t\t\t}),\n\t\t\t\tmodalContent = \"\";\n\t\t} else {\n\t\t\t// Nope, it's one of those darn children.\n\t\t\tvar modalOpener = event.target,\n\t\t\t\tmodalSelector = $(modalOpener).parent().data(\"modal\"),\n\t\t\t\tmodalFind = $(modalOpener).data(\"modal-find\"),\n\t\t\t\tmodal = $('<div/>', {\n\t    \t\t\t\"class\": \"modal-dialog\",\n\t\t\t\t\tcloseText: ''\n\t\t\t\t}),\n\t\t\t\tmodalContent = \"\";\n\t\t}\n\n\t\tif (modalSelector.substring(0, 1) === \".\" || modalSelector.substring(0, 1) === \"#\") {\n\t\t\t// Assume using a local, existing HTML element.\n\t\t\tmodalContent = $(modalSelector).html();\n\t\t\tmodal.html(modalContent);\n\t\t\tmodal.appendTo(\"body\").modal({\n\t\t\t\tzIndex: 1000,\n\t\t\t\tcloseText: ''\n\t\t\t});\n\t\t\t$('.modalHide').hide();\n\t\t\t$(\"input[type=number]\").stepper();\n\t\t\t$(\".password-toggle\").hideShowPassword(false, true);\n\t\t\tnew window.MyBB.Avatar();\n\t\t} else {\n\t\t\t// Assume modal content is coming from an AJAX request\n\n\t\t\t// data-modal-find is optional, default to \"#content\"\n\t\t\tif (modalFind === undefined) {\n\t\t\t\tmodalFind = \"#content\";\n\t\t\t}\n\n\t\t\tMyBB.Spinner.add();\n\n\t\t\tvar modalParams = $(event.currentTarget).attr('data-modal-params');\n\t\t\tif (modalParams) {\n\t\t\t\tmodalParams = JSON.parse(modalParams);\n\t\t\t\tconsole.log(modalParams);\n\t\t\t} else {\n\t\t\t\tmodalParams = {};\n\t\t\t}\n\n\t\t\t$.get('/'+modalSelector, modalParams, function(response) {\n\t\t\t\tvar responseObject = $(response);\n\n\t\t\t\tmodalContent = $(modalFind, responseObject).html();\n\t\t\t\tmodal.html(modalContent);\n\t\t\t\tmodal.appendTo(\"body\").modal({\n\t\t\t\t\tzIndex: 1000,\n\t\t\t\t\tcloseText: ''\n\t\t\t\t});\n\t\t\t\t$('.modalHide').hide();\n\t\t\t\t$(\"input[type=number]\").stepper();\n\t\t\t\t$(\".password-toggle\").hideShowPassword(false, true);\n\t\t\t\tnew window.MyBB.Avatar();\n\n\t\t\t\t// Remove modal after close\n\t\t\t\tmodal.on($.modal.CLOSE, function() {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t})\n\t\t\t}).always(function() {\n\t\t\t\tMyBB.Spinner.remove();\n\t\t\t});\n\t\t}\n\n\t};\n\n    var modals = new window.MyBB.Modals(); // TODO: put this elsewhere :)\n})(jQuery, window);\n","(function($, window) {\n    window.MyBB = window.MyBB || {};\n\n\twindow.MyBB.Posts = function Posts()\n\t{\n\t\t// Show and hide posts\n\t\t$(\".postToggle\").on(\"click\", this.togglePost).bind(this);\n\n\n\t\t// Confirm Delete\n\t\t$(\".delete a\").on(\"click\", $.proxy(this.confirmDelete, this));\n\t};\n\n\t// Show and hide posts\n\twindow.MyBB.Posts.prototype.togglePost = function togglePost(event) {\n\t\tevent.preventDefault();\n\t\t// Are we minimized or not?\n\t\tif($(event.target).hasClass(\"fa-minus\"))\n\t\t{\n\t\t\t// Perhaps instead of hide, apply a CSS class?\n\t\t\t$(event.target).parent().parent().parent().addClass(\"post--hidden\");\n\t\t\t// Make button a plus sign for expanding\n\t\t\t$(event.target).addClass(\"fa-plus\");\n\t\t\t$(event.target).removeClass(\"fa-minus\");\n\n\t\t} else {\n\t\t\t// We like this person again\n\t\t\t$(event.target).parent().parent().parent().removeClass(\"post--hidden\");\n\t\t\t// Just in case we change our mind again, show the hide button\n\t\t\t$(event.target).addClass(\"fa-minus\");\n\t\t\t$(event.target).removeClass(\"fa-show\");\n\t\t}\n\t};\n\n\t// Confirm Delete\n\twindow.MyBB.Posts.prototype.confirmDelete = function confirmDelete(event) {\n\t\treturn confirm(Lang.get('topic.confirmDelete'));\n\t};\n\n\tvar posts = new window.MyBB.Posts();\n\n})(jQuery, window);","(function($, window) {\n    window.MyBB = window.MyBB || {};\n    \n\twindow.MyBB.Polls = function Polls()\n\t{\n\t\tthis.optionElement = $('#option-simple').clone().attr('id', '').removeClass('hidden').addClass('poll-option').hide();\n\t\t$('#option-simple').remove();\n\n\t\tthis.removeOption($('#add-poll .poll-option'));\n\n\t\t$('#new-option').click($.proxy(this.addOption, this));\n\n\t\t$('#poll-maximum-options').hide();\n\n\t\t$('#poll-is-multiple').change($.proxy(this.toggleMaxOptionsInput, this)).change();\n\n\t\tvar $addPollButton = $(\"#add-poll-button\");\n\t\t$addPollButton.click($.proxy(this.toggleAddPoll, this));\n\t\tif($addPollButton.length) {\n\t\t\tif($('#add-poll-input').val() === '1') {\n\t\t\t\t$('#add-poll').slideDown();\n\t\t\t}\n\t\t}\n\n\t\tthis.timePicker();\n\t};\n\n\twindow.MyBB.Polls.prototype.timePicker = function timePicker() {\n\t\t$('#poll-end-at').datetimepicker({\n\t\t\tformat: 'Y-m-d H:i:s',\n\t\t\tlang: 'mybb',\n\t\t\ti18n: {\n\t\t\t\tmybb: {\n\t\t\t\t\tmonths: [\n\t\t\t\t\t\tLang.get('general.months.january'),\n\t\t\t\t\t\tLang.get('general.months.february'),\n\t\t\t\t\t\tLang.get('general.months.march'),\n\t\t\t\t\t\tLang.get('general.months.april'),\n\t\t\t\t\t\tLang.get('general.months.may'),\n\t\t\t\t\t\tLang.get('general.months.june'),\n\t\t\t\t\t\tLang.get('general.months.july'),\n\t\t\t\t\t\tLang.get('general.months.august'),\n\t\t\t\t\t\tLang.get('general.months.september'),\n\t\t\t\t\t\tLang.get('general.months.october'),\n\t\t\t\t\t\tLang.get('general.months.november'),\n\t\t\t\t\t\tLang.get('general.months.december')\n\t\t\t\t\t],\n\t\t\t\t\tdayOfWeek: [\n\t\t\t\t\t\tLang.get('general.dayOfWeek.sun'),\n\t\t\t\t\t\tLang.get('general.dayOfWeek.mon'),\n\t\t\t\t\t\tLang.get('general.dayOfWeek.tue'),\n\t\t\t\t\t\tLang.get('general.dayOfWeek.wed'),\n\t\t\t\t\t\tLang.get('general.dayOfWeek.thu'),\n\t\t\t\t\t\tLang.get('general.dayOfWeek.fri'),\n\t\t\t\t\t\tLang.get('general.dayOfWeek.sat')\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\tminDate: 0\n\t\t});\n\t};\n\n\twindow.MyBB.Polls.prototype.toggleAddPoll = function toggleAddPoll() {\n\t\tif($('#add-poll-input').val() === '1') {\n\t\t\t$('#add-poll-input').val(0);\n\t\t\t$('#add-poll').slideUp();\n\t\t} else {\n\t\t\t$('#add-poll-input').val(1);\n\t\t\t$('#add-poll').slideDown();\n\t\t}\n\t\treturn false;\n\t};\n\n\twindow.MyBB.Polls.prototype.addOption = function addOption(event) {\n\t\tvar num_options = $('#add-poll .poll-option').length;\n\t\tif(num_options >= 10) { // TODO: settings\n\t\t\talert(Lang.choice('poll.errorManyOptions', 10)); // TODO: JS Error\n\t\t\treturn false;\n\t\t}\n\t\tvar $option = this.optionElement.clone();\n\t\t$option.find('input').attr('name', 'option['+(num_options+1)+']');\n\t\t$('#add-poll .poll-option').last().after($option);\n\t\t$option.slideDown();\n\t\tthis.removeOption($option);\n\t\treturn false;\n\t};\n\n\twindow.MyBB.Polls.prototype.removeOption = function bindRemoveOption($parent) {\n\t\t$parent.find('.remove-option').click($.proxy(function(event) {\n\t\t\tvar $me = $(event.target),\n\t\t\t\t$myParent = $me.parents('.poll-option');\n\t\t\tif($('.poll-option').length <= 2) // TODO: settings\n\t\t\t{\n\t\t\t\talert(Lang.choice('poll.errorFewOptions', 2)); // TODO: JS Error\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t$myParent.slideUp(500);\n\n\t\t\tsetTimeout($.proxy(function() {\n\t\t\t\t$myParent.remove();\n\t\t\t\tthis.fixOptionsName();\n\t\t\t}, this), 500);\n\t\t}, this));\n\t\tif(!Modernizr.touch) {\n\t\t\t$parent.find('.remove-option').powerTip({ placement: 's', smartPlacement: true });\n\t\t}\n\t};\n\n\twindow.MyBB.Polls.prototype.fixOptionsName = function() {\n\t\tvar i = 0;\n\t\t$('#add-poll .poll-option').each(function() {\n\t\t\ti++;\n\t\t\t$(this).find('input').attr('name', 'option['+i+']');\n\t\t});\n\t};\n\n\twindow.MyBB.Polls.prototype.toggleMaxOptionsInput = function toggleMaxOptionsInput(event) {\n\t\tme = event.target;\n\t\tif($(me).is(':checked')) {\n\t\t\t$('#poll-maximum-options').slideDown();\n\t\t}\n\t\telse {\n\t\t\t$('#poll-maximum-options').slideUp();\n\t\t}\n\t};\n\n\tvar polls = new window.MyBB.Polls();\n\n})(jQuery, window);","(function ($, window) {\n\twindow.MyBB = window.MyBB || {};\n\n\twindow.MyBB.Quotes = function Quotes() {\n\n\t\t// MultiQuote\n\t\t$(\".quote-button\").on(\"click\", this.multiQuoteButton.bind(this));\n\n\t\tthis.showQuoteBar();\n\n\t\t$(\".quote-bar__select\").on(\"click\", $.proxy(this.addQuotes, this));\n\t\t$(\".quote-bar__view\").on(\"click\", $.proxy(this.viewQuotes, this));\n\t\t$(\".quote-bar__deselect\").on(\"click\", $.proxy(this.removeQuotes, this));\n\n\t\t$('.quick-quote .fast').on('click', $.proxy(this.quickQuote, this));\n\t\t$('.quick-quote .add').on('click', $.proxy(this.quickAddQuote, this));\n\n\t\t$('.quote__select').on(\"click\", $.proxy(this.quoteAdd, this));\n\t\t$('.quote__remove').on(\"click\", $.proxy(this.quoteRemove, this));\n\t\t$(\"body\").on(\"mouseup\", $.proxy(this.checkQuickQuote, this));\n\n\t\tthis.quoteButtons();\n\t};\n\n\twindow.MyBB.Quotes.prototype.quickQuote = function quickQuote(event) {\n\t\tvar $me = $(event.target);\n\t\tif (!$me.hasClass('quick-quote')) {\n\t\t\t$me = $me.parents('.quick-quote');\n\t\t}\n\n\t\tvar $post = $me.parents('.post');\n\n\t\tif ($me.data('content')) {\n\t\t\t$content = $('<div/>');\n\t\t\t$content.html($me.data('content'));\n\t\t\tthis.addQuote($post.data('postid'), $post.data('type'), $content.text());\n\t\t}\n\t\tthis.hideQuickQuote();\n\t}\n\n\twindow.MyBB.Quotes.prototype.quickAddQuote = function quickAddQuote(event) {\n\t\tvar $me = $(event.target),\n\t\t\tquotes = this.getQuotes();\n\t\tif (!$me.hasClass('quick-quote')) {\n\t\t\t$me = $me.parents('.quick-quote');\n\t\t}\n\n\t\tvar $post = $me.parents('.post');\n\n\t\tif ($me.data('content')) {\n\t\t\t$content = $('<div/>');\n\t\t\t$content.html($me.data('content'));\n\t\t\tquotes.push({\n\t\t\t\t'id': $post.data('type') + '_' + $post.data('postid'),\n\t\t\t\t'data': $content.text()\n\t\t\t});\n\t\t\tMyBB.Cookie.set('quotes', JSON.stringify(quotes));\n\n\t\t\tthis.showQuoteBar();\n\t\t}\n\t\tthis.hideQuickQuote();\n\t}\n\n\twindow.MyBB.Quotes.prototype.checkQuickQuote = function checkQuickQuote(event) {\n\t\tvar $me = $(event.target);\n\t\tif ($me.hasClass('quick-quote') || $me.parents('.quick-quote').length) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!$me.hasClass('post')) {\n\t\t\t$me = $me.parents('.post');\n\t\t}\n\n\t\tif ($me && $me.length) {\n\t\t\tvar pid = $me.data('postid');\n\n\t\t\tif ($.trim(window.getSelection().toString())) {\n\t\t\t\tif (elementContainsSelection($me.find('.post__body')[0])) {\n\t\t\t\t\tthis.showQuickQuote(pid);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.hideQuickQuote();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.hideQuickQuote();\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthis.hideQuickQuote();\n\t\t}\n\t}\n\n\twindow.MyBB.Quotes.prototype.showQuickQuote = function showQuckQuote(pid) {\n\t\tvar selection = window.getSelection(),\n\t\t\trange = selection.getRangeAt(0),\n\t\t\trect = range.getBoundingClientRect();\n\t\t$elm = $(\"#post-\" + pid).find('.quick-quote').show().data('content', $.trim(window.getSelection().toString()));\n\t\t$elm.css({\n\t\t\t'top': (window.scrollY + rect.top - $elm.outerHeight() - 4) + 'px',\n\t\t\t'left': (window.scrollX + rect.left - (($elm.outerWidth() - rect.width) / 2)) + 'px'\n\t\t});\n\t}\n\n\twindow.MyBB.Quotes.prototype.hideQuickQuote = function () {\n\t\t$('.post .quick-quote').hide().data('content', '');\n\t}\n\n\twindow.MyBB.Quotes.prototype.getQuotes = function getQuotes() {\n\t\tvar quotes = MyBB.Cookie.get('quotes'),\n\t\t\tmyQuotes = [];\n\t\tif (!quotes) {\n\t\t\tquotes = [];\n\t\t}\n\t\telse {\n\t\t\tquotes = JSON.parse(quotes);\n\t\t}\n\t\t$.each(quotes, function (key, quote) {\n\t\t\tif (quote != null) {\n\t\t\t\tmyQuotes.push(quote);\n\t\t\t}\n\t\t});\n\n\t\tMyBB.Cookie.set('quotes', JSON.stringify(myQuotes));\n\t\treturn myQuotes;\n\t};\n\n\t// MultiQuote\n\twindow.MyBB.Quotes.prototype.multiQuoteButton = function multiQuoteButton(event) {\n\t\tevent.preventDefault();\n\t\tvar $me = $(event.target);\n\t\tif (!$me.hasClass('quote-button')) {\n\t\t\t$me = $me.parents('.quote-button');\n\t\t}\n\t\tvar $post = $me.parents('.post');\n\n\t\tvar postId = parseInt($post.data('postid')),\n\t\t\ttype = $post.data('type'),\n\t\t\tquotes = this.getQuotes();\n\n\t\tif (postId) {\n\t\t\tvar removed = false;\n\t\t\t$.each(quotes, function(key, quote) {\n\t\t\t\tif(typeof quote != 'string') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(quote == type + '_' + postId) {\n\t\t\t\t\tdelete quotes[key];\n\t\t\t\t\tremoved = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!removed) {\n\t\t\t\tquotes.push(type + '_' + postId);\n\t\t\t\t$me.find('.quote-button__add').hide();\n\t\t\t\t$me.find('.quote-button__remove').show();\n\t\t\t}\n\t\t\telse {\n\t\t\t\t$me.find('.quote-button__add').show();\n\t\t\t\t$me.find('.quote-button__remove').hide();\n\t\t\t}\n\n\t\t\tMyBB.Cookie.set('quotes', JSON.stringify(quotes));\n\n\t\t\tthis.showQuoteBar();\n\t\t\treturn false;\n\t\t}\n\n\t};\n\n\twindow.MyBB.Quotes.prototype.showQuoteBar = function showQuoteBar() {\n\t\tvar quotes = this.getQuotes();\n\n\t\tif (quotes.length) {\n\t\t\t$(\".quote-bar\").show();\n\t\t}\n\t\telse {\n\t\t\t$(\".quote-bar\").hide();\n\t\t}\n\t};\n\n\twindow.MyBB.Quotes.prototype.addQuotes = function addQuotes() {\n\t\tvar quotes = this.getQuotes(),\n\t\t\t$quoteBar = $(\".quote-bar\"),\n\t\t\t$textarea = $($quoteBar.data('textarea'));\n\n\t\tMyBB.Spinner.add();\n\n\t\t$.ajax({\n\t\t\turl: '/post/quotes',\n\t\t\tdata: {\n\t\t\t\t'posts': quotes,\n\t\t\t\t'_token': $quoteBar.parents('form').find('input[name=_token]').val()\n\t\t\t},\n\t\t\tmethod: 'POST'\n\t\t}).done(function (json) {\n\t\t\tif (json.error) {\n\t\t\t\talert(json.error);// TODO: js error\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar value = $textarea.val();\n\t\t\t\tif (value && value.substr(-2) != \"\\n\\n\") {\n\t\t\t\t\tif (value.substr(-1) != \"\\n\") {\n\t\t\t\t\t\tvalue += \"\\n\";\n\t\t\t\t\t}\n\t\t\t\t\tvalue += \"\\n\";\n\t\t\t\t}\n\t\t\t\t$textarea.val(value + json.message).focus();\n\t\t\t}\n\t\t\t$.modal.close();\n\t\t}).always(function () {\n\t\t\tMyBB.Spinner.remove();\n\t\t});\n\n\t\t$quoteBar.hide();\n\t\tMyBB.Cookie.unset('quotes');\n\t\tthis.quoteButtons();\n\t\treturn false;\n\t};\n\n\twindow.MyBB.Quotes.prototype.addQuote = function addQuote(postid, type, content) {\n\t\tvar $textarea = $(\"#message\");\n\n\t\tMyBB.Spinner.add();\n\n\t\t$.ajax({\n\t\t\turl: '/post/quotes',\n\t\t\tdata: {\n\t\t\t\t'posts': [\n\t\t\t\t\t{\n\t\t\t\t\t\t'id': type + '_' + postid,\n\t\t\t\t\t\t'data': content\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t'_token': $(\".quote-bar\").parents('form').find('input[name=_token]').val()\n\t\t\t},\n\t\t\tmethod: 'POST'\n\t\t}).done(function (json) {\n\t\t\tif (json.error) {\n\t\t\t\talert(json.error);// TODO: js error\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar value = $textarea.val();\n\t\t\t\tif (value && value.substr(-2) != \"\\n\\n\") {\n\t\t\t\t\tif (value.substr(-1) != \"\\n\") {\n\t\t\t\t\t\tvalue += \"\\n\";\n\t\t\t\t\t}\n\t\t\t\t\tvalue += \"\\n\";\n\t\t\t\t}\n\t\t\t\t$textarea.val(value + json.message).focus();\n\t\t\t}\n\t\t}).always(function () {\n\t\t\tMyBB.Spinner.remove();\n\t\t});\n\n\t\tthis.hideQuickQuote();\n\n\t\treturn false;\n\t};\n\n\twindow.MyBB.Quotes.prototype.viewQuotes = function viewQuotes() {\n\t\tMyBB.Spinner.add();\n\n\t\t$.ajax({\n\t\t\turl: '/post/quotes/all',\n\t\t\tdata: {\n\t\t\t\t'posts': this.getQuotes(),\n\t\t\t\t'_token': $(\".quote-bar\").parents('form').find('input[name=_token]').val()\n\t\t\t},\n\t\t\tmethod: 'POST'\n\t\t}).done($.proxy(function (data) {\n\t\t\tvar modalContent = $(\"#content\", $(data)),\n\t\t\t\tmodal = $('<div/>', {\n\t\t\t\t\t\"class\": \"modal-dialog view-quotes\",\n\t\t\t\t\tcloseText: ''\n\t\t\t\t});\n\t\t\tmodalContent.find('.view-quotes__quotes').css({\n\t\t\t\t'max-height': ($(window).height()-250)+'px'\n\t\t\t});\n\t\t\tmodal.html(modalContent.html());\n\t\t\tmodal.appendTo(\"body\").modal({\n\t\t\t\tzIndex: 1000,\n\t\t\t\tcloseText: ''\n\t\t\t});\n\n\t\t\tif(Modernizr.touch)\n\t\t\t{\n\t\t\t\t$('.radio-buttons .radio-button, .checkbox-buttons .checkbox-button').click(function() {\n\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$('span.icons i, a, .caption, time').powerTip({ placement: 's', smartPlacement: true });\n\t\t\t}\n\n\t\t\t$('.quote__select').on(\"click\", $.proxy(this.quoteAdd, this));\n\t\t\t$('.quote__remove').on(\"click\", $.proxy(this.quoteRemove, this));\n\t\t\t$(\".select-all-quotes\").on(\"click\", $.proxy(this.addQuotes, this));\n\t\t\t$('.modal-hide').hide();\n\t\t}, this)).always(function () {\n\t\t\tMyBB.Spinner.remove();\n\t\t});\n\n\t\tthis.hideQuickQuote();\n\n\t\treturn false;\n\t};\n\n\twindow.MyBB.Quotes.prototype.removeQuotes = function removeQuotes() {\n\t\t$quoteBar = $(\".quote-bar\");\n\t\t$quoteBar.hide();\n\t\tMyBB.Cookie.unset('quotes');\n\t\tthis.quoteButtons();\n\t\treturn false;\n\t};\n\n\twindow.MyBB.Quotes.prototype.quoteButtons = function quoteButtons() {\n\t\tvar quotes = this.getQuotes();\n\n\t\t$('.quote-button__add').show();\n\t\t$('.quote-button__remove').hide();\n\n\t\t$.each(quotes, function (key, quote) {\n\t\t\tif (typeof quote != 'string') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tquote = quote.split('_');\n\t\t\ttype = quote[0];\n\t\t\tpostId = parseInt(quote[1]);\n\t\t\tvar $quoteButton = $(\"#post-\" + postId + \"[data-type='\" + type + \"']\").find('.quoteButton');\n\t\t\t$quoteButton.find('.quote-button__add').hide();\n\t\t\t$quoteButton.find('.quote-button__remove').show();\n\t\t})\n\t}\n\n\twindow.MyBB.Quotes.prototype.quoteAdd = function quoteAdd(event) {\n\t\tvar $me = $(event.target),\n\t\t\t$post = $me.parents('.content-quote'),\n\t\t\t$textarea = $(\"#message\"),\n\t\t\tquotes = this.getQuotes();\n\n\t\tvar value = $textarea.val();\n\t\tif (value && value.substr(-2) != \"\\n\\n\") {\n\t\t\tif (value.substr(-1) != \"\\n\") {\n\t\t\t\tvalue += \"\\n\";\n\t\t\t}\n\t\t\tvalue += \"\\n\";\n\t\t}\n\t\t$textarea.val(value + $post.data('quote')).focus();\n\n\t\tdelete quotes[$post.data('id')];\n\t\tMyBB.Cookie.set('quotes', JSON.stringify(quotes));\n\t\t$post.slideUp('fast');\n\n\t\tif(this.getQuotes().length == 0) {\n\t\t\t$.modal.close();\n\t\t}\n\n\t\twhile($post.next().length) {\n\t\t\t$post = $post.next();\n\t\t\t$post.data('id', $post.data('id')-1);\n\t\t}\n\n\t\tthis.quoteButtons();\n\t\tthis.showQuoteBar();\n\t}\n\n\twindow.MyBB.Quotes.prototype.quoteRemove = function quoteRemove(event) {\n\t\tvar $me = $(event.target),\n\t\t\t$post = $me.parents('.content-quote'),\n\t\t\tquotes = this.getQuotes();\n\n\t\tdelete quotes[$post.data('id')];\n\t\tMyBB.Cookie.set('quotes', JSON.stringify(quotes));\n\t\t$post.slideUp('fast');\n\n\t\tif(this.getQuotes().length == 0) {\n\t\t\t$.modal.close();\n\t\t}\n\n\t\twhile($post.next().length) {\n\t\t\t$post = $post.next();\n\t\t\t$post.data('id', $post.data('id')-1);\n\t\t}\n\n\t\tthis.quoteButtons();\n\t\tthis.showQuoteBar();\n\t\treturn false;\n\t}\n\n\tvar quotes = new window.MyBB.Quotes();\n\n\n\t// Helper functions\n\t// http://stackoverflow.com/questions/8339857\n\tfunction isOrContains(node, container) {\n\t\twhile (node) {\n\t\t\tif (node === container) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tnode = node.parentNode;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction elementContainsSelection(el) {\n\t\tvar sel;\n\t\tif (window.getSelection) {\n\t\t\tsel = window.getSelection();\n\t\t\tif (sel.rangeCount > 0) {\n\t\t\t\tfor (var i = 0; i < sel.rangeCount; ++i) {\n\t\t\t\t\tif (!isOrContains(sel.getRangeAt(i).commonAncestorContainer, el)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else if ((sel = document.selection) && sel.type != \"Control\") {\n\t\t\treturn isOrContains(sel.createRange().parentElement(), el);\n\t\t}\n\t\treturn false;\n\t}\n\n})\n(jQuery, window);","(function ($, window) {\n\twindow.MyBB = window.MyBB || {};\n\n\twindow.MyBB.Avatar = function Avatar() {\n\t\tthis.dropAvatar();\n\t};\n\n\twindow.MyBB.Avatar.prototype.dropAvatar = function dropAvatar()\n\t{\n\t\tvar $avatarDrop = $('#avatar-drop');\n\t\tif ($avatarDrop.length == 0 || $avatarDrop.is(':visible') == $('#avatar-drop-area').is(':visible')) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar avatarDropUrl = $avatarDrop.attr('action');\n\t\tDropzone.autoDiscover = false;\n\t\tvar avatarDrop = new Dropzone(\"#avatar-drop\", {\n\t\t\turl: avatarDropUrl + \"?ajax=1\",\n\t\t\tacceptedFiles: \"image/*\",\n\t\t\tclickable: '#file-input',\n\t\t\tparamName: \"avatar_file\",\n\t\t\tthumbnailWidth: null,\n\t\t\tthumbnailHeight: null,\n\t\t\tuploadMultiple: false,\n\t\t\tinit: function () {\n\t\t\t\t$(\"#avatar-drop-area\").show();\n\t\t\t},\n\t\t\tpreviewTemplate: '<div style=\"display:none\" />'\n\t\t});\n\n\t\tavatarDrop.on(\"thumbnail\", function (file, dataUrl) {\n\t\t\t$(\"#crop\").find('.jcrop').find('img').attr('src', dataUrl);//TODO: use better selection\n\t\t});\n\n\t\tavatarDrop.on(\"sending\", function (file) {\n\t\t\tMyBB.Spinner.add();\n\t\t});\n\t\tavatarDrop.on(\"complete\", function () {\n\t\t\tMyBB.Spinner.remove();\n\t\t});\n\t\tavatarDrop.on(\"success\", function (file) {\n\t\t\tvar data = $.parseJSON(file.xhr.responseText);\n\t\t\tif (data.needCrop == true) {\n\t\t\t\t$(\"<a />\").data('modal', '#crop').click((new MyBB.Modals()).toggleModal).click(); // TODO: create a method in modal.js for it\n\t\t\t\tvar $jcrop = $('.modal').find('.jcrop');\n\n\t\t\t\tfunction JcropUpdateInputs(c) {\n\t\t\t\t\t$jcrop.find('.jcrop-x').val(c.x);\n\t\t\t\t\t$jcrop.find('.jcrop-y').val(c.y);\n\t\t\t\t\t$jcrop.find('.jcrop-x2').val(c.x2);\n\t\t\t\t\t$jcrop.find('.jcrop-y2').val(c.y2);\n\t\t\t\t\t$jcrop.find('.jcrop-w').val(c.w);\n\t\t\t\t\t$jcrop.find('.jcrop-h').val(c.h);\n\t\t\t\t}\n\n\t\t\t\t$jcrop.find('img').Jcrop({\n\t\t\t\t\tonChange: JcropUpdateInputs,\n\t\t\t\t\tonSelect: JcropUpdateInputs\n\t\t\t\t});\n\n\t\t\t\t$('.modal').find('.crop-img').click(function () {\n\t\t\t\t\tMyBB.Spinner.add();\n\t\t\t\t\t$.post('/account/avatar/crop?ajax=1', {\n\t\t\t\t\t\tx: $jcrop.find('.jcrop-x').val(),\n\t\t\t\t\t\ty: $jcrop.find('.jcrop-y').val(),\n\t\t\t\t\t\tx2: $jcrop.find('.jcrop-x2').val(),\n\t\t\t\t\t\ty2: $jcrop.find('.jcrop-y2').val(),\n\t\t\t\t\t\tw: $jcrop.find('.jcrop-w').val(),\n\t\t\t\t\t\th: $jcrop.find('.jcrop-h').val(),\n\t\t\t\t\t\t\"_token\": $('input[name=\"_token\"]').val()\n\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\t\talert(data.message); // TODO: JS Message\n\t\t\t\t\t\t\t$.modal.close();\n\t\t\t\t\t\t\t$(\".my-avatar\").attr('src', data.avatar);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\talert(data.error);// TODO: JS Error\n\t\t\t\t\t\t}\n\t\t\t\t\t}).always(function () {\n\t\t\t\t\t\tMyBB.Spinner.remove();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tvar avatar = new window.MyBB.Avatar();\n\n})(jQuery, window);","(function($, window) {\n    window.MyBB = window.MyBB || {};\n\n    window.MyBB.Moderation = function Moderation()\n    {\n        $.ajaxSetup({\n            headers: {\n                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n            }\n        });\n\n        // inline moderation click handling\n        $('a[data-moderate]').click($.proxy(function (e) {\n            e.preventDefault();\n\n            MyBB.Spinner.add();\n\n            var moderation_content = $('[data-moderation-content]').first();\n            $.post('/moderate', {\n                moderation_name: $(e.currentTarget).attr('data-moderate'),\n                moderation_content: moderation_content.attr('data-moderation-content'),\n                moderation_ids: window.MyBB.Moderation.getSelectedIds(),\n                moderation_source_type: moderation_content.attr('data-moderation-source-type'),\n                moderation_source_id: moderation_content.attr('data-moderation-source-id')\n            }, function (response) {\n                document.location.reload();\n            });\n        }, this));\n\n        // inline reverse moderation click handling\n        $('a[data-moderate-reverse]').click($.proxy(function (e) {\n            e.preventDefault();\n\n            MyBB.Spinner.add();\n\n            var moderation_content = $('[data-moderation-content]').first();\n            $.post('/moderate/reverse', {\n                moderation_name: $(e.currentTarget).attr('data-moderate-reverse'),\n                moderation_content: moderation_content.attr('data-moderation-content'),\n                moderation_ids: window.MyBB.Moderation.getSelectedIds(),\n                moderation_source_type: moderation_content.attr('data-moderation-source-type'),\n                moderation_source_id: moderation_content.attr('data-moderation-source-id')\n            }, function (response) {\n                document.location.reload();\n            });\n        }, this));\n\n        // moderation bar clear selection handling\n        $('.clear-selection a').click(function(e) {\n            $('[data-moderation-content] input[type=checkbox]:checked').removeAttr('checked');\n            $('[data-moderation-content] .highlight').removeClass('highlight');\n            $('.inline-moderation').removeClass('floating');\n        });\n\n        // post level inline moderation checkbox handling\n        $(\".post :checkbox\").change(function() {\n            $(this).closest(\".post\").toggleClass(\"highlight\", this.checked);\n\n            var checked_boxes = $('.highlight').length;\n\n            if(checked_boxes == 1)\n            {\n                $('.inline-moderation').addClass('floating');\n            }\n\n            if (checked_boxes > 1)\n            {\n                $('li[data-moderation-multi]').show();\n            } else {\n                $('li[data-moderation-multi]').hide();\n            }\n\n            if(checked_boxes == 0)\n            {\n                $('.inline-moderation').removeClass('floating');\n            }\n\n            $('.inline-moderation .selection-count').text(' ('+checked_boxes+')')\n        });\n\n        // topic level inline moderation checkbox handling\n        $(\".topic-list .topic :checkbox\").change(function() {\n            $(this).closest(\".topic\").toggleClass(\"highlight\", this.checked);\n\n            var checked_boxes = $('.highlight').length;\n\n            if(checked_boxes == 1)\n            {\n                $('.inline-moderation').addClass('floating');\n            }\n\n            if (checked_boxes > 1)\n            {\n                $('li[data-moderation-multi]').show();\n            } else {\n                $('li[data-moderation-multi]').hide();\n            }\n\n            if(checked_boxes == 0)\n            {\n                $('.inline-moderation').removeClass('floating');\n            }\n\n            $('.inline-moderation .selection-count').text(' ('+checked_boxes+')')\n        });\n\n        $('li[data-moderation-multi]').hide();\n    };\n\n    // get the IDs of elements currently selected\n    window.MyBB.Moderation.getSelectedIds = function getSelectedIds()\n    {\n        return $('input[type=checkbox][data-moderation-id]:checked').map(function () {\n            return $(this).attr('data-moderation-id');\n        }).get();\n    };\n\n    // grab the current selection and inject it into the modal so we can submit through a normal form\n    window.MyBB.Moderation.injectModalParams = function injectFormData(element)\n    {\n        var moderation_content = $('[data-moderation-content]').first();\n        $(element).attr('data-modal-params', JSON.stringify({\n            moderation_content: moderation_content.attr('data-moderation-content'),\n            moderation_ids: window.MyBB.Moderation.getSelectedIds(),\n            moderation_source_type: moderation_content.attr('data-moderation-source-type'),\n            moderation_source_id: moderation_content.attr('data-moderation-source-id')\n        }));\n    };\n\n    var moderation = new window.MyBB.Moderation();\n\n})(jQuery, window);\n"],"sourceRoot":"/source/"}