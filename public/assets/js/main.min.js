function getTooltipContent(t){var e,o,n=t.data(DATA_POWERTIP),i=t.data(DATA_POWERTIPJQ),a=t.data(DATA_POWERTIPTARGET);return n?($.isFunction(n)&&(n=n.call(t[0])),o=n):i?($.isFunction(i)&&(i=i.call(t[0])),i.length>0&&(o=i.clone(!0,!0))):a&&(e=$("#"+a),e.length>0&&(o=e.html())),escapeHTML(o)}function escapeHTML(t){return"string"==typeof t?String(t).replace(/[&<>"'\/]/g,function(t){return entityMap[t]}):t}function submitFormAsGet(t,e){var o=$("#"+t);return o.find("input[name=_token]").val(""),null!=e&&o.attr("action",e),o.attr("method","get").submit(),!1}function openMenu(t){t.preventDefault(),$("body").animate({"background-position-x":"0px"},200,function(){}),$(".sidebar-menu").animate({marginLeft:"0px"},200,function(){}),$(".page-body").animate({marginLeft:"225px",marginRight:"-225px"},200,function(){})}function closeMenu(t){t.preventDefault(),$("body").animate({"background-position-x":"-225px"},200,function(){}),$(".sidebar-menu").animate({marginLeft:"-225px"},200,function(){}),$(".page-body").animate({marginLeft:"0",marginRight:"0"},200,function(){})}!function(t,e){e.MyBB=e.MyBB||{},e.MyBB.Cookie={cookiePrefix:"",cookiePath:"/",cookieDomain:"",init:function(){MyBB.Settings=MyBB.Settings||{},"undefined"!=typeof MyBB.Settings.cookiePrefix&&(this.cookiePrefix=MyBB.Settings.cookiePrefix),"undefined"!=typeof MyBB.Settings.cookiePath&&(this.cookiePath=MyBB.Settings.cookiePath),"undefined"!=typeof MyBB.Settings.cookieDomain&&(this.cookieDomain=MyBB.Settings.cookieDomain)},get:function(e){return this.init(),e=this.cookiePrefix+e,t.cookie(e)},set:function(e,o,n){return this.init(),e=this.cookiePrefix+e,n||(n=15768e4),expire=new Date,expire.setTime(expire.getTime()+1e3*n),options={expires:expire,path:this.cookiePath,domain:this.cookieDomain},t.cookie(e,o,options)},unset:function(e){return this.init(),e=this.cookiePrefix+e,options={path:this.cookiePath,domain:this.cookieDomain},t.removeCookie(e,options)}}}(jQuery,window),function(t,e){e.MyBB=e.MyBB||{},e.MyBB.Spinner={inProgresses:0,add:function(){this.inProgresses++,1==this.inProgresses&&t("#spinner").show()},remove:function(){this.inProgresses--,0==this.inProgresses&&t("#spinner").hide()}}}(jQuery,window),function(t,e){e.MyBB=e.MyBB||{},e.MyBB.Modals=function(){t("*[data-modal]").on("click",this.toggleModal).bind(this),t.modal.defaults.closeText="x"},e.MyBB.Modals.prototype.toggleModal=function(o){if(o.preventDefault(),"A"===o.target.nodeName)var n=o.target,i=t(n).data("modal"),a=t(n).data("modal-find"),r=t("<div/>",{"class":"modal-dialog",closeText:""}),s="";else var n=o.target,i=t(n).parent().data("modal"),a=t(n).data("modal-find"),r=t("<div/>",{"class":"modal-dialog",closeText:""}),s="";if("."===i.substring(0,1)||"#"===i.substring(0,1))s=t(i).html(),r.html(s),r.appendTo("body").modal({zIndex:1e3,closeText:""}),t(".modalHide").hide(),t("input[type=number]").stepper(),t(".password-toggle").hideShowPassword(!1,!0),new e.MyBB.Avatar;else{void 0===a&&(a="#content"),MyBB.Spinner.add();var d=t(o.currentTarget).attr("data-modal-params");d=d?JSON.parse(d):{},t.get("/"+i,d,function(o){var n=t(o);s=t(a,n).html(),r.html(s),r.appendTo("body").modal({zIndex:1e3,closeText:""}),t(".modalHide").hide(),t("input[type=number]").stepper(),t(".password-toggle").hideShowPassword(!1,!0),new e.MyBB.Avatar,r.on(t.modal.CLOSE,function(){t(this).remove()})}).always(function(){MyBB.Spinner.remove()})}};new e.MyBB.Modals}(jQuery,window),function(t,e){e.MyBB=e.MyBB||{},e.MyBB.Posts=function(){t(".postToggle").on("click",this.togglePost).bind(this),t(".delete a").on("click",t.proxy(this.confirmDelete,this))},e.MyBB.Posts.prototype.togglePost=function(e){e.preventDefault(),t(e.target).hasClass("fa-minus")?(t(e.target).parent().parent().parent().addClass("post--hidden"),t(e.target).addClass("fa-plus"),t(e.target).removeClass("fa-minus")):(t(e.target).parent().parent().parent().removeClass("post--hidden"),t(e.target).addClass("fa-minus"),t(e.target).removeClass("fa-show"))},e.MyBB.Posts.prototype.confirmDelete=function(){return confirm(Lang.get("topic.confirmDelete"))};new e.MyBB.Posts}(jQuery,window),function(t,e){e.MyBB=e.MyBB||{},e.MyBB.Polls=function(){this.optionElement=t("#option-simple").clone().attr("id","").removeClass("hidden").addClass("poll-option").hide(),t("#option-simple").remove(),this.removeOption(t("#add-poll .poll-option")),t("#new-option").click(t.proxy(this.addOption,this)),t("#poll-maximum-options").hide(),t("#poll-is-multiple").change(t.proxy(this.toggleMaxOptionsInput,this)).change();var e=t("#add-poll-button");e.click(t.proxy(this.toggleAddPoll,this)),e.length&&"1"===t("#add-poll-input").val()&&t("#add-poll").slideDown(),this.timePicker()},e.MyBB.Polls.prototype.timePicker=function(){t("#poll-end-at").datetimepicker({format:"Y-m-d H:i:s",lang:"mybb",i18n:{mybb:{months:[Lang.get("general.months.january"),Lang.get("general.months.february"),Lang.get("general.months.march"),Lang.get("general.months.april"),Lang.get("general.months.may"),Lang.get("general.months.june"),Lang.get("general.months.july"),Lang.get("general.months.august"),Lang.get("general.months.september"),Lang.get("general.months.october"),Lang.get("general.months.november"),Lang.get("general.months.december")],dayOfWeek:[Lang.get("general.dayOfWeek.sun"),Lang.get("general.dayOfWeek.mon"),Lang.get("general.dayOfWeek.tue"),Lang.get("general.dayOfWeek.wed"),Lang.get("general.dayOfWeek.thu"),Lang.get("general.dayOfWeek.fri"),Lang.get("general.dayOfWeek.sat")]}},minDate:0})},e.MyBB.Polls.prototype.toggleAddPoll=function(){return"1"===t("#add-poll-input").val()?(t("#add-poll-input").val(0),t("#add-poll").slideUp()):(t("#add-poll-input").val(1),t("#add-poll").slideDown()),!1},e.MyBB.Polls.prototype.addOption=function(){var e=t("#add-poll .poll-option").length;if(e>=10)return!1;var o=this.optionElement.clone();return o.find("input").attr("name","option["+(e+1)+"]"),t("#add-poll .poll-option").last().after(o),o.slideDown(),this.removeOption(o),!1},e.MyBB.Polls.prototype.removeOption=function(e){e.find(".remove-option").click(t.proxy(function(e){var o=t(e.target),n=o.parents(".poll-option");return t(".poll-option").length<=2?!1:(n.slideUp(500),void setTimeout(t.proxy(function(){n.remove(),this.fixOptionsName()},this),500))},this)),Modernizr.touch||e.find(".remove-option").powerTip({placement:"s",smartPlacement:!0})},e.MyBB.Polls.prototype.fixOptionsName=function(){var e=0;t("#add-poll .poll-option").each(function(){e++,t(this).find("input").attr("name","option["+e+"]")})},e.MyBB.Polls.prototype.toggleMaxOptionsInput=function(e){me=e.target,t(me).is(":checked")?t("#poll-maximum-options").slideDown():t("#poll-maximum-options").slideUp()};new e.MyBB.Polls}(jQuery,window),function(t,e){function o(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function n(t){var n;if(e.getSelection){if(n=e.getSelection(),n.rangeCount>0){for(var i=0;i<n.rangeCount;++i)if(!o(n.getRangeAt(i).commonAncestorContainer,t))return!1;return!0}}else if((n=document.selection)&&"Control"!=n.type)return o(n.createRange().parentElement(),t);return!1}e.MyBB=e.MyBB||{},e.MyBB.Quotes=function(){t(".quote-button").on("click",this.multiQuoteButton.bind(this)),this.showQuoteBar(),t(".quote-bar__select").on("click",t.proxy(this.addQuotes,this)),t(".quote-bar__view").on("click",t.proxy(this.viewQuotes,this)),t(".quote-bar__deselect").on("click",t.proxy(this.removeQuotes,this)),t(".quick-quote .fast").on("click",t.proxy(this.quickQuote,this)),t(".quick-quote .add").on("click",t.proxy(this.quickAddQuote,this)),t(".quote__select").on("click",t.proxy(this.quoteAdd,this)),t(".quote__remove").on("click",t.proxy(this.quoteRemove,this)),t("body").on("mouseup",t.proxy(this.checkQuickQuote,this)),this.quoteButtons()},e.MyBB.Quotes.prototype.quickQuote=function(e){var o=t(e.target);o.hasClass("quick-quote")||(o=o.parents(".quick-quote"));var n=o.parents(".post");o.data("content")&&($content=t("<div/>"),$content.html(o.data("content")),this.addQuote(n.data("postid"),n.data("type"),$content.text())),this.hideQuickQuote()},e.MyBB.Quotes.prototype.quickAddQuote=function(e){var o=t(e.target),n=this.getQuotes();o.hasClass("quick-quote")||(o=o.parents(".quick-quote"));var i=o.parents(".post");o.data("content")&&($content=t("<div/>"),$content.html(o.data("content")),n.push({id:i.data("type")+"_"+i.data("postid"),data:$content.text()}),MyBB.Cookie.set("quotes",JSON.stringify(n)),this.showQuoteBar()),this.hideQuickQuote()},e.MyBB.Quotes.prototype.checkQuickQuote=function(o){var i=t(o.target);if(i.hasClass("quick-quote")||i.parents(".quick-quote").length)return!1;if(i.hasClass("post")||(i=i.parents(".post")),i&&i.length){var a=i.data("postid");t.trim(e.getSelection().toString())&&n(i.find(".post__body")[0])?this.showQuickQuote(a):this.hideQuickQuote()}else this.hideQuickQuote()},e.MyBB.Quotes.prototype.showQuickQuote=function(o){var n=e.getSelection(),i=n.getRangeAt(0),a=i.getBoundingClientRect();$elm=t("#post-"+o).find(".quick-quote").show().data("content",t.trim(e.getSelection().toString())),$elm.css({top:e.scrollY+a.top-$elm.outerHeight()-4+"px",left:e.scrollX+a.left-($elm.outerWidth()-a.width)/2+"px"})},e.MyBB.Quotes.prototype.hideQuickQuote=function(){t(".post .quick-quote").hide().data("content","")},e.MyBB.Quotes.prototype.getQuotes=function(){var e=MyBB.Cookie.get("quotes"),o=[];return e=e?JSON.parse(e):[],t.each(e,function(t,e){null!=e&&o.push(e)}),MyBB.Cookie.set("quotes",JSON.stringify(o)),o},e.MyBB.Quotes.prototype.multiQuoteButton=function(e){e.preventDefault();var o=t(e.target);o.hasClass("quote-button")||(o=o.parents(".quote-button"));var n=o.parents(".post"),i=parseInt(n.data("postid")),a=n.data("type"),r=this.getQuotes();if(i){var s=!1;return t.each(r,function(t,e){"string"==typeof e&&e==a+"_"+i&&(delete r[t],s=!0)}),s?(o.find(".quote-button__add").show(),o.find(".quote-button__remove").hide()):(r.push(a+"_"+i),o.find(".quote-button__add").hide(),o.find(".quote-button__remove").show()),MyBB.Cookie.set("quotes",JSON.stringify(r)),this.showQuoteBar(),!1}},e.MyBB.Quotes.prototype.showQuoteBar=function(){var e=this.getQuotes();e.length?t(".quote-bar").show():t(".quote-bar").hide()},e.MyBB.Quotes.prototype.addQuotes=function(){var e=this.getQuotes(),o=t(".quote-bar"),n=t(o.data("textarea"));return MyBB.Spinner.add(),t.ajax({url:"/post/quotes",data:{posts:e,_token:o.parents("form").find("input[name=_token]").val()},method:"POST"}).done(function(e){if(e.error);else{var o=n.val();o&&"\n\n"!=o.substr(-2)&&("\n"!=o.substr(-1)&&(o+="\n"),o+="\n"),n.val(o+e.message).focus()}t.modal.close()}).always(function(){MyBB.Spinner.remove()}),o.hide(),MyBB.Cookie.unset("quotes"),this.quoteButtons(),!1},e.MyBB.Quotes.prototype.addQuote=function(e,o,n){var i=t("#message");return MyBB.Spinner.add(),t.ajax({url:"/post/quotes",data:{posts:[{id:o+"_"+e,data:n}],_token:t(".quote-bar").parents("form").find("input[name=_token]").val()},method:"POST"}).done(function(t){if(t.error);else{var e=i.val();e&&"\n\n"!=e.substr(-2)&&("\n"!=e.substr(-1)&&(e+="\n"),e+="\n"),i.val(e+t.message).focus()}}).always(function(){MyBB.Spinner.remove()}),this.hideQuickQuote(),!1},e.MyBB.Quotes.prototype.viewQuotes=function(){return MyBB.Spinner.add(),t.ajax({url:"/post/quotes/all",data:{posts:this.getQuotes(),_token:t(".quote-bar").parents("form").find("input[name=_token]").val()},method:"POST"}).done(t.proxy(function(o){var n=t("#content",t(o)),i=t("<div/>",{"class":"modal-dialog view-quotes",closeText:""});n.find(".view-quotes__quotes").css({"max-height":t(e).height()-250+"px"}),i.html(n.html()),i.appendTo("body").modal({zIndex:1e3,closeText:""}),Modernizr.touch?t(".radio-buttons .radio-button, .checkbox-buttons .checkbox-button").click(function(){}):t("span.icons i, a, .caption, time").powerTip({placement:"s",smartPlacement:!0}),t(".quote__select").on("click",t.proxy(this.quoteAdd,this)),t(".quote__remove").on("click",t.proxy(this.quoteRemove,this)),t(".select-all-quotes").on("click",t.proxy(this.addQuotes,this)),t(".modal-hide").hide()},this)).always(function(){MyBB.Spinner.remove()}),this.hideQuickQuote(),!1},e.MyBB.Quotes.prototype.removeQuotes=function(){return $quoteBar=t(".quote-bar"),$quoteBar.hide(),MyBB.Cookie.unset("quotes"),this.quoteButtons(),!1},e.MyBB.Quotes.prototype.quoteButtons=function(){var e=this.getQuotes();t(".quote-button__add").show(),t(".quote-button__remove").hide(),t.each(e,function(e,o){if("string"==typeof o){o=o.split("_"),type=o[0],postId=parseInt(o[1]);var n=t("#post-"+postId+"[data-type='"+type+"']").find(".quoteButton");n.find(".quote-button__add").hide(),n.find(".quote-button__remove").show()}})},e.MyBB.Quotes.prototype.quoteAdd=function(e){var o=t(e.target),n=o.parents(".content-quote"),i=t("#message"),a=this.getQuotes(),r=i.val();for(r&&"\n\n"!=r.substr(-2)&&("\n"!=r.substr(-1)&&(r+="\n"),r+="\n"),i.val(r+n.data("quote")).focus(),delete a[n.data("id")],MyBB.Cookie.set("quotes",JSON.stringify(a)),n.slideUp("fast"),0==this.getQuotes().length&&t.modal.close();n.next().length;)n=n.next(),n.data("id",n.data("id")-1);this.quoteButtons(),this.showQuoteBar()},e.MyBB.Quotes.prototype.quoteRemove=function(e){var o=t(e.target),n=o.parents(".content-quote"),i=this.getQuotes();for(delete i[n.data("id")],MyBB.Cookie.set("quotes",JSON.stringify(i)),n.slideUp("fast"),0==this.getQuotes().length&&t.modal.close();n.next().length;)n=n.next(),n.data("id",n.data("id")-1);return this.quoteButtons(),this.showQuoteBar(),!1};new e.MyBB.Quotes}(jQuery,window),function(t,e){e.MyBB=e.MyBB||{},e.MyBB.Avatar=function(){this.dropAvatar()},e.MyBB.Avatar.prototype.dropAvatar=function(){var e=t("#avatar-drop");if(0!=e.length&&e.is(":visible")!=t("#avatar-drop-area").is(":visible")){var o=e.attr("action");Dropzone.autoDiscover=!1;var n=new Dropzone("#avatar-drop",{url:o+"?ajax=1",acceptedFiles:"image/*",clickable:"#file-input",paramName:"avatar_file",thumbnailWidth:null,thumbnailHeight:null,uploadMultiple:!1,init:function(){t("#avatar-drop-area").show()},previewTemplate:'<div style="display:none" />'});n.on("thumbnail",function(e,o){t("#crop").find(".jcrop").find("img").attr("src",o)}),n.on("sending",function(){MyBB.Spinner.add()}),n.on("complete",function(){MyBB.Spinner.remove()}),n.on("success",function(e){function o(t){i.find(".jcrop-x").val(t.x),i.find(".jcrop-y").val(t.y),i.find(".jcrop-x2").val(t.x2),i.find(".jcrop-y2").val(t.y2),i.find(".jcrop-w").val(t.w),i.find(".jcrop-h").val(t.h)}var n=t.parseJSON(e.xhr.responseText);if(1==n.needCrop){t("<a />").data("modal","#crop").click((new MyBB.Modals).toggleModal).click();var i=t(".modal").find(".jcrop");i.find("img").Jcrop({onChange:o,onSelect:o}),t(".modal").find(".crop-img").click(function(){MyBB.Spinner.add(),t.post("/account/avatar/crop?ajax=1",{x:i.find(".jcrop-x").val(),y:i.find(".jcrop-y").val(),x2:i.find(".jcrop-x2").val(),y2:i.find(".jcrop-y2").val(),w:i.find(".jcrop-w").val(),h:i.find(".jcrop-h").val(),_token:t('input[name="_token"]').val()}).done(function(e){e.success&&(t.modal.close(),t(".my-avatar").attr("src",e.avatar))}).always(function(){MyBB.Spinner.remove()})})}})}};new e.MyBB.Avatar}(jQuery,window),$("html").addClass("js"),$(function(){$(".nojs").hide(),Modernizr.touch?$(".radio-buttons .radio-button, .checkbox-buttons .checkbox-button").click(function(){}):$("span.icons i, a, .caption, time").powerTip({placement:"s",smartPlacement:!0}),$(".user-navigation__links, #main-menu").dropit({submenuEl:"div.dropdown"}),$(".dropdown-menu").dropit({submenuEl:"ul.dropdown",triggerEl:"span.dropdown-button"}),$("input[type=number]").stepper(),$(".password-toggle").hideShowPassword(!1,!0),$("#search .search-button").click(function(t){t.preventDefault(),$("#search .search-container").slideDown()}),autosize($(".post textarea")),$("a.show-menu__link").click(function(t){0==menu?(menu=1,openMenu(t)):(menu=0,closeMenu(t))})});var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};!function(t,e){e.MyBB=e.MyBB||{},e.MyBB.Moderation=function(){t.ajaxSetup({headers:{"X-CSRF-TOKEN":t('meta[name="csrf-token"]').attr("content")}}),t("a[data-moderate]").click(t.proxy(function(o){o.preventDefault(),MyBB.Spinner.add();var n=t("[data-moderation-content]").first();t.post("/moderate",{moderation_name:t(o.currentTarget).attr("data-moderate"),moderation_content:n.attr("data-moderation-content"),moderation_ids:e.MyBB.Moderation.getSelectedIds(),moderation_source_type:n.attr("data-moderation-source-type"),moderation_source_id:n.attr("data-moderation-source-id")},function(){document.location.reload()})},this)),t("a[data-moderate-reverse]").click(t.proxy(function(o){o.preventDefault(),MyBB.Spinner.add();var n=t("[data-moderation-content]").first();t.post("/moderate/reverse",{moderation_name:t(o.currentTarget).attr("data-moderate-reverse"),moderation_content:n.attr("data-moderation-content"),moderation_ids:e.MyBB.Moderation.getSelectedIds(),moderation_source_type:n.attr("data-moderation-source-type"),moderation_source_id:n.attr("data-moderation-source-id")},function(){document.location.reload()})},this)),t(".clear-selection a").click(function(){t("[data-moderation-content] input[type=checkbox]:checked").removeAttr("checked"),t("[data-moderation-content] .highlight").removeClass("highlight"),t(".inline-moderation").removeClass("floating")}),t(".post :checkbox").change(function(){t(this).closest(".post").toggleClass("highlight",this.checked);var e=t(".highlight").length;1==e&&t(".inline-moderation").addClass("floating"),e>1?t("li[data-moderation-multi]").show():t("li[data-moderation-multi]").hide(),0==e&&t(".inline-moderation").removeClass("floating"),t(".inline-moderation .selection-count").text(" ("+e+")")}),t(".topic-list .topic :checkbox").change(function(){t(this).closest(".topic").toggleClass("highlight",this.checked);var e=t(".highlight").length;1==e&&t(".inline-moderation").addClass("floating"),e>1?t("li[data-moderation-multi]").show():t("li[data-moderation-multi]").hide(),0==e&&t(".inline-moderation").removeClass("floating"),t(".inline-moderation .selection-count").text(" ("+e+")")}),t("li[data-moderation-multi]").hide()},e.MyBB.Moderation.getSelectedIds=function(){return t("input[type=checkbox][data-moderation-id]:checked").map(function(){return t(this).attr("data-moderation-id")}).get()},e.MyBB.Moderation.injectModalParams=function(o){var n=t("[data-moderation-content]").first();t(o).attr("data-modal-params",JSON.stringify({moderation_content:n.attr("data-moderation-content"),moderation_ids:e.MyBB.Moderation.getSelectedIds(),moderation_source_type:n.attr("data-moderation-source-type"),moderation_source_id:n.attr("data-moderation-source-id")}))};new e.MyBB.Moderation}(jQuery,window);
//# sourceMappingURL=main.js.map